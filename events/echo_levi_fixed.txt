namespace = leviathans

# Players who haven't encountered the stellarite gets a message
fleet_event = {
	id = leviathans.1001
	title = leviathans.1000.name
	desc = {
		trigger = {
			solar_system = {
				has_star_flag = guardians_stellarite_system
			}
		}
		text = leviathans.1000.desc
	}
	desc = {
		trigger = {
			solar_system = {
				NOT = { has_star_flag = guardians_stellarite_system }
			}
		}
		text = leviathans.1001.desc
	}
	picture = GFX_evt_stellarites
	show_sound = event_radio_chatter
	location = root

	is_triggered_only = yes

	trigger = {
		exists = owner
		owner = {
			is_ai = no
			NOT = { has_country_flag = guardians_stellarite_encountered }
		}
		from = {
			any_fleet_in_system = {
				exists = owner
				owner = {
					is_country_type = guardian_stellarite
					has_country_flag = guardian_stellarite_country
				}
			}
		}
	}

	immediate = {
		owner = {
			country_event = { id = story.8 days = 15 }
			set_country_flag = guardians_stellarite_encountered
			establish_communications_no_message = event_target:stellarite_country
		}
	}

	option = {
		name = DISCONCERTING
	}
}