################################
#
# Game Start Events
#
# Written by MadeinCanada10
#
###############################
namespace = begin

## Genetic Manipulators

# Set Up
event = {
	id = begin.0
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		every_playable_country = {
			limit = { has_valid_civic = civic_hive_manipulators_of_life }
			country_event = { id = begin.1 }
		}
	}
}

# Set Up 2: Electric Boogaloo
country_event = {
	id = begin.1
	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		owner = {
			NOT = { has_country_flag = gene_set_up_complete }
		}
	}
	
	immediate = {
		give_technology = { message = no tech = tech_genome_mapping }
		give_technology = { message = no tech = tech_gene_tailoring }
		set_country_flag = gene_set_up_complete
	}
}

## Strategic Cache

# Set Up
country_event = {
	id = begin.2
	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		owner = {
			NOT = { has_country_flag = cache_set_up_complete }
			has_valid_civic = civic_strategic_cache
		}
	}
	
	immediate = {
		capital_scope = {
			add_deposit = d_strategic_cache
		}
		set_country_flag = cache_set_up_complete
	}
}

## Nihilist/Machine Cult

# Set Up
country_event = {
	id = begin.3
	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		owner = {
			NOT = { has_country_flag = cult_set_up_complete }
			OR = {
				has_valid_civic = civic_engineering_cult
				has_valid_civic = civic_physics_cult
			}
		}
	}
	
	immediate = {
		if = {
			limit = {
				has_valid_civic = civic_engineering_cult
			}
			add_resource = { engineering_research = 100 }
			give_technology = { message = no tech = tech_powered_exoskeletons }
			give_technology = { message = no tech = tech_robotic_workers }
		}
		else_if = {
			limit = {
				has_valid_civic = civic_physics_cult
			}
			add_resource = { physics_research = 100 }
			add_research_option = tech_mine_dark_matter
		}
		else = {
			add_resource = { society_research = 100 }
		}
		set_country_flag = cult_set_up_complete
		set_country_flag = cult_empire
	}
}

## Crystalline Energy Grid

# Set Up
#country_event = {
#	id = begin.4
#	hide_window = yes
#	
#	is_triggered_only = yes
#	
#	trigger = {
#		owner = {
#			NOT = { has_country_flag = ceg_set_up_complete }
#			has_valid_civic = civic_crystalline_energy_grid
#		}
#	}
#	
#	immediate = {
#		capital_scope = {
#			add_building = building_crystal_prospecting_machine
#			set_planet_flag = crystal_prospecting_built
#		}
#		give_technology = { message = no tech = tech_mine_rare_crystals }
#		set_country_flag = ceg_set_up_complete
#	}
#}

## Masters of Architecture

# Set Up
country_event = {
	id = begin.5
	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		owner = {
			NOT = { has_country_flag = moa_set_up_complete }
			has_valid_civic = civic_masters_of_architecture
		}
	}
	
	immediate = {
		capital_scope = {
			add_deposit = "d_great_monument"
		}
		set_country_flag = moa_set_up_complete
	}
}

## World Council

# Set Up
country_event = {
	id = begin.6
	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		owner = {
			NOT = { has_country_flag = wc_set_up_complete }
			has_valid_civic = civic_world_council
		}
	}
	
	immediate = {
		capital_scope = {
			add_building = building_world_council_2
		}
		set_country_flag = wc_set_up_complete
	}
}

## Crystalline Energy Grid v2

# Set Up
country_event = {
	id = begin.9
	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		owner = {
			NOT = { has_country_flag = cegv2_set_up_complete }
			has_valid_civic = civic_crystalline_energy_grid_v2
		}
	}
	
	immediate = {
		capital_scope = {
			set_planet_flag = cegv2_crystal_energy_planet
			add_deposit = d_crystalline_fields
			add_modifier = {
				modifier = "pm_crystal_energy_planet"
			}
		}
		give_technology = { message = no tech = tech_mine_rare_crystals }
		set_country_flag = cegv2_set_up_complete
	}
}

## 1.4.2

# Set Up
country_event = {
	id = begin.10
	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		owner = {
			NOT = { has_country_flag = anty_set_up_complete }
			has_valid_civic = civic_anarcho_tyranny
		}
	}
	
	immediate = {
		capital_scope = {
			add_modifier = {
				modifier = "anty_startworld"
			}
		}
		set_country_flag = anty_set_up_complete
	}
}

# Set Up
country_event = {
	id = begin.11
	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		owner = {
			NOT = { has_country_flag = gft_set_up_complete }
			has_valid_civic = civic_gaseous_fracking_techniques
		}
	}
	
	immediate = {
		capital_scope = {
			set_planet_flag = gft_gas_minerals_planet
			add_deposit = d_gaseous_caverns
			add_modifier = {
				modifier = "pm_gas_minerals_planet"
			}
		}
		give_technology = { message = no tech = tech_mine_exotic_gases }
		set_country_flag = gft_set_up_complete
	}
}

# Set Up
country_event = {
	id = begin.12
	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		owner = {
			NOT = { has_country_flag = vfm_set_up_complete }
			has_valid_civic = civic_volatile_farming_methods
		}
	}
	
	immediate = {
		capital_scope = {
			set_planet_flag = vfm_mote_food_planet
			add_deposit = d_dusty_farmland
			add_modifier = {
				modifier = "pm_mote_food_planet"
			}
		}
		give_technology = { message = no tech = tech_mine_volatile_motes }
		set_country_flag = vfm_set_up_complete
	}
}

# Set Up
country_event = {
	id = begin.13
	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		owner = {
			NOT = { has_country_flag = machinarchy_empire }
			has_valid_civic = civic_machinarchy
		}
	}
	
	immediate = {
		create_species = {
			name = random
			class = MACHINE
			portrait = random
			traits = {
				trait = trait_machine_unit
				trait = random_traits
			}
			immortal = yes
		}
		#kill_leader = {
		#	type = ruler
		#	show_notification = no
		#}
		create_leader = {
			class = ruler
			name = "Nexus Primus"
			species = last_created_species
			gender = indeterminable
			skill = 5
			set_age = 60
			immortal = yes
			traits = { trait = leader_trait_ruler_machine_intelligence }
			effect = {
				from = { assign_leader = prev }
				set_leader_flag = machinarchy_ruler_@root
				add_ruler_trait = leader_trait_emex_machinarchy_ruler
			}
		}
		give_technology = { message = no tech = tech_powered_exoskeletons }
		give_technology = { message = no tech = tech_robotic_workers }
		capital_scope = {
			add_building = building_robot_assembly_plant
			while = {
				count = 3
				create_pop = {
					species = last_created_species
					ethos = random
				}
			}
			add_modifier = {
				modifier = "machinarchy_start"
				days = 1800
			}
		}
		set_policy_cooldown = machine_strata
		set_country_flag = machinarchy_empire
	}
}

# Set Up
country_event = {
	id = begin.14
	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		owner = {
			NOT = { has_country_flag = sn_set_up_complete }
			has_valid_civic = civic_sovereign_nations
		}
	}
	
	immediate = {
		capital_scope = {
			set_planet_flag = sn_world
			#Superpower(s)
			random_list = {
				3 = {
					while = {
						count = 2
						add_deposit = d_sn_global_superpower
					}
				}
				7 = {
					add_deposit = d_sn_global_superpower
				}
			}
			#Cooperative nation(s)
			random_list = {
				2 = {
					while = {
						count = 3
						add_deposit = d_sn_cooperative_nation
					}
				}
				5 = {
					while = {
						count = 2
						add_deposit = d_sn_cooperative_nation
					}
				}
				3 = {
					add_deposit = d_sn_cooperative_nation
				}
			}
			#Threatening nation(s)
			random_list = {
				6 = {
					while = {
						count = 2
						add_deposit = d_sn_threatening_state
					}
				}
				3 = {
					add_deposit = d_sn_threatening_state
				}
			}
			#Antagonistic nation(s)
			random_list = {
				3  = {
					while = {
						count = 3
						add_deposit = d_sn_antagonistic_nation
					}
				}
				6 = {
					while = {
						count = 2
						add_deposit = d_sn_antagonistic_nation
					}
				}
				1 = {
					add_deposit = d_sn_antagonistic_nation
				}
			}
			#Neutral nation(s)
			random_list = {
				4  = {
					while = {
						count = 3
						add_deposit = d_sn_neutral_nation
					}
				}
				4 = {
					while = {
						count = 3
						add_deposit = d_sn_neutral_nation
					}
				}
				2 = {
					while = {
						count = 2
						add_deposit = d_sn_neutral_nation
					}
				}
			}
		}
		set_country_flag = sn_set_up_complete
	}
}

## Seekers of Knowledge

# Set Up
country_event = {
	id = begin.15
	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		owner = {
			NOT = { has_country_flag = sok_setup }
			has_valid_civic = civic_seekers_of_knowledge
		}
	}
	
	immediate = {
		set_variable = {
			which = sok_t3@root
			value = 0
		}
		set_variable = {
			which = sok_t4@root
			value = 0
		}
		set_variable = {
			which = sok_t5@root
			value = 0
		}
		set_variable = {
			which = sok_rare@root
			value = 0
		}
		set_variable = {
			which = sok_dangerous@root
			value = 0
		}
		set_country_flag = sok_setup
	}
}