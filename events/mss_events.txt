#用于兼容  For compatibility
namespace = mss_game_start
event = {
    id = mss_game_start.1
    hide_window = yes
    is_triggered_only = yes
    immediate = {
        set_global_flag = ms_species_enabled
        every_playable_country = {
            limit = { is_ai = no }
            create_message = {
                type = MESSAGE_MSS_STARTUP
                days = 5
                localization = MESSAGE_MSS_STARTUP_desc
            }
        }
    }
}
country_event = {
    id = mss_game_start.2
    hide_window = yes
    is_triggered_only = yes
    trigger = {
        OR = {
            is_species_class = MS_MAID_ORGANIC
            is_species_class = MS_MAID_LITHOID
        }
    }
    immediate = {
        set_country_flag = ms_has_maid_as_founder_species
    }
}
#机飞后变成女仆罐头肖像 Change portrait to robotic maid after synthetic evolution
namespace = mss_action
country_event = {
    id = mss_action.1
    hide_window = yes
    is_triggered_only = yes
    trigger = {
        NOT = { has_country_flag = mss_has_changed_synth_portrait }
        has_ascension_perk = ap_synthetic_evolution
    }
    immediate = {
        country_event = { id = mss_action.2 days = 1 }
    }
}
country_event = {
    id = mss_action.2
    hide_window = yes
    is_triggered_only = yes
    trigger = {
        has_country_flag = synthetic_empire
    }
    immediate = {
        set_country_flag = mss_has_changed_synth_portrait
        if = {
            limit = {
                has_country_flag = ms_has_maid_as_founder_species
            }
            species = {
                random_list = {
                    1 = { change_species_characteristics = { portrait = ms_robotic_01 } }
                    3 = { change_species_characteristics = { portrait = ms_robotic_02 } }
                }
            }
            every_owned_leader = {
                limit = {
                    species = { is_robotic = yes is_livestock = no }
                    has_trait = leader_trait_synthetic
                    NOR = { has_leader_flag = renowned_leader has_leader_flag = legendary_leader }
                }
                change_leader_portrait = species
            }
            every_pool_leader = {
                limit = {
                    species = { is_robotic = yes is_livestock = no }
                    has_trait = leader_trait_synthetic
                    NOR = { has_leader_flag = renowned_leader has_leader_flag = legendary_leader }
                }
                change_leader_portrait = species
            }
            every_envoy = {
                limit = { species = { is_robotic = yes is_livestock = no } }
                change_leader_portrait = species
            }
        }
    }
}