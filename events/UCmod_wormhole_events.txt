#########################################
#
# Unavoidable Changes's Events for My precursor
#
#########################################

namespace = UCmod_wormhole

### Archaeology Events
### The Volgan Imperium
# Baol System Wormhole Connection
country_event = {
	id = UCmod_wormhole.1
	hide_window = no
	title = UCmod_volgan_connected
	desc = UCmod_volgan_connected_desc
	location = event_target:volgan_system
	picture = GFX_evt_wormhole
	
	is_triggered_only = yes

	option = {
		name = MARVELOUS		
	}
	
	immediate = {
		random_system = {
			limit = {
				has_star_flag = volgan_home_system
			}
			save_global_event_target_as = volgan_system
		}
		event_target:volgan_system  = {
			event_target:volgan_home_spawn_system = {
				prev = { # done this way to ensure we don't spawn "orphan wormholes (wormholes that aren't linked to anything)
					spawn_natural_wormhole = {
						bypass_type = wormhole
						random_pos = no
						orbit_angle = 360
					}
				}
				spawn_natural_wormhole = {
					bypass_type = wormhole
					random_pos = no
					orbit_angle = 270
				}
				link_wormholes = prev
			}
		}
		from = {
			ship_event = {
				id = UCmod_wormhole.2
			}
		}
	}
}


#Backup version of apoc.5, first time you see a wormhole, in case the precursor one spawned is your first

ship_event = {
	id = UCmod_wormhole.2
	title = apoc.5.name
	desc = "apoc.5.desc"
	picture = GFX_evt_wormhole
	show_sound = event_radio_chatter
	location = FROM
	
	is_triggered_only = yes
	
	trigger = {
		owner = {
			NOT = { has_country_flag = encountered_first_wormhole }
		}
	}
	
	immediate = {
		owner = {
			set_country_flag = encountered_first_wormhole
			add_seen_bypass_type = wormhole
		}
	}	
	
	option = {
		name = apoc.5.a
	}
}