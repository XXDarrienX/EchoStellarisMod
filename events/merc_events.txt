
namespace = uncivil_civics_events

country_event = {
	id = uncivil_civics_events.8 	#Defence Contractor 1	// Changes Defence Contractor status
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		has_civic = civic_uncivil_defence_contractor
	}
	
	immediate = {
		calculate_defense_contractor_bonus = yes
	}
}

country_event = {
	id = uncivil_civics_events.9	 #Defence Contractor 2	// Removes modifiers before gov change
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		has_civic = civic_uncivil_defence_contractor
	}
	
	immediate = {
		remove_modifier = uncivil_defence_contractor_mod
	}
}

country_event = {
	id = uncivil_civics_events.10 	#Mercenary Company 1	// Changes Mercenary status
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		has_civic = civic_uncivil_mercenary_company
	}
	
	immediate = {
		remove_modifier = uncivil_mercenary_company_mod	
		if = {
			limit = { 
			count_war = {
				count = 1
				limit = {
					any_war_participant = {
						is_country = root
							is_war_leader = no }
					}
				}
			}
			add_modifier = { 
				modifier = "uncivil_mercenary_company_mod" 
				days = -1
				multiplier = 1
			}
}

if = {
			limit = { 
			count_war = {
				count = 2
				limit = {
						any_war_participant = {
								is_country = root
								is_war_leader = no }
							}
					}
			}
			add_modifier = { 
				modifier = "uncivil_mercenary_company_mod" 
				days = -1
				multiplier = 2
			}
}

if = {
			limit = { 
			count_war = {
				count = 3
				limit = {
						any_war_participant = {
								is_country = root
								is_war_leader = no }
							}
					}
			}
			add_modifier = { 
				modifier = "uncivil_mercenary_company_mod" 
				days = -1
				multiplier = 3
			}
}

if = {
			limit = { 
			count_war = {
				count = 4
				limit = {
						any_war_participant = {
								is_country = root
								is_war_leader = no }
							}
					}
			}
			add_modifier = { 
				modifier = "uncivil_mercenary_company_mod" 
				days = -1
				multiplier = 4
			}
}

if = {
			limit = { 
			count_war = {
				count >= 5
				limit = {
						any_war_participant = {
								is_country = root
								is_war_leader = no }
							}
					}
			}
			add_modifier = { 
				modifier = "uncivil_mercenary_company_mod" 
				days = -1
				multiplier = 5
			}
}
	
	
	}
}

country_event = {
	id = uncivil_civics_events.11 	#Mercenary Company 2	// Changes Mercenary status post-war
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		FromFrom = {
			every_war_participant = {
				if = {
					limit = {
						is_war_leader = no
						has_civic = civic_uncivil_mercenary_company
					}
					country_event = {
						id = uncivil_civics_events.10
					}	
				}	
			}
		}
	}
}

country_event = {
	id = uncivil_civics_events.12 # Removes modifiers before civic
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		OR = {
			has_civic = civic_uncivil_mercenary_company
			has_civic = civic_uncivil_defence_contractor
		}
	}
	
	immediate = {
		remove_modifier = uncivil_defence_contractor_mod
		remove_modifier = uncivil_mercenary_company_mod
	}
}