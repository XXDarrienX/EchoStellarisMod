building_imperial_government = {
	base_buildtime = @b1_time
	category = government
	base_cap_amount = 1

	category = government

	potential = {
		exists = owner
		owner = { is_galactic_emperor = yes }
		NOT = { has_modifier = slave_colony }
	}
	destroy_trigger = {
		OR = {
			owner = { is_galactic_emperor = no }
			has_modifier = slave_colony
		}
	}
	allow = {
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = @b3_minerals
			rare_crystals = @b4_rare_cost
		}
		upkeep = {
			energy = @b3_upkeep
			rare_crystals = @b4_rare_upkeep
		}
	}
	triggered_planet_modifier = {
		potential = { is_capital = yes }
		imperial_governance_produces_mult = 0.25
	}

	#普通
	triggered_planet_modifier = {
		potential = {
			owner = {
				is_regular_empire = yes
				is_spiritualist = no
				has_make_spiritualist_perk = no
				is_megacorp = no
				NAND = {
					has_global_flag = cultural_overhaul_active
					has_global_flag = ideological_revolution
					OR = {
						has_valid_civic = civic_anarchism
						has_valid_civic = civic_democracy_and_clean_government
						has_valid_civic = civic_OGAS
						has_valid_civic = civic_cybercap
						AND = {
							has_valid_civic = civic_shared_burden
							has_ascension_perk = ap_future_society
						}
					}
				}
			}
		}
		planet_administrators_unity_produces_add = -4
		job_bureaucrat_per_pop = 0.125
	}
	triggered_country_modifier = {
		potential = {
			owner = {
				is_regular_empire = yes
				is_spiritualist = no
				has_make_spiritualist_perk = no
				is_megacorp = no
				NAND = {
					has_global_flag = cultural_overhaul_active
					has_global_flag = ideological_revolution
					OR = {
						has_valid_civic = civic_anarchism
						has_valid_civic = civic_democracy_and_clean_government
						has_valid_civic = civic_OGAS
						has_valid_civic = civic_cybercap
						AND = {
							has_valid_civic = civic_shared_burden
							has_ascension_perk = ap_future_society
						}
					}
				}
			}
		}
		imperial_governance_capacity = 40
		mult = value:building_imperial_government_sv|job|bureaucrat|
	}
	#唯心
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				OR = {
					is_spiritualist = yes
					has_make_spiritualist_perk = yes
				}
				NAND = {
					has_global_flag = cultural_overhaul_active
					has_global_flag = ideological_revolution
					OR = {
						has_valid_civic = civic_anarchism
						has_valid_civic = civic_democracy_and_clean_government
						has_valid_civic = civic_OGAS
						has_valid_civic = civic_cybercap
						AND = {
							has_valid_civic = civic_shared_burden
							has_ascension_perk = ap_future_society
						}
					}
				}
			}
		}
		planet_priests_unity_produces_add = -4
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				OR = {
					is_spiritualist = yes
					has_make_spiritualist_perk = yes
				}
				is_megacorp = no
				NAND = {
					has_global_flag = cultural_overhaul_active
					has_global_flag = ideological_revolution
					OR = {
						has_valid_civic = civic_anarchism
						has_valid_civic = civic_democracy_and_clean_government
						has_valid_civic = civic_OGAS
						has_valid_civic = civic_cybercap
						AND = {
							has_valid_civic = civic_shared_burden
							has_ascension_perk = ap_future_society
						}
					}
				}
			}
		}
		job_priest_per_pop = 0.125
	}
	triggered_country_modifier = {
		potential = {
			exists = owner
			owner = {
				OR = {
					is_spiritualist = yes
					has_make_spiritualist_perk = yes
				}
				NAND = {
					has_global_flag = cultural_overhaul_active
					has_global_flag = ideological_revolution
					OR = {
						has_valid_civic = civic_anarchism
						has_valid_civic = civic_democracy_and_clean_government
						has_valid_civic = civic_OGAS
						has_valid_civic = civic_cybercap
						AND = {
							has_valid_civic = civic_shared_burden
							has_ascension_perk = ap_future_society
						}
					}
				}
			}
		}
		imperial_governance_capacity = 40
		mult = planet.value:building_imperial_government_sv_2|job1|priest|job2|death_priest|
	}
	#巨企
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_megacorp = yes
				NAND = {
					has_global_flag = cultural_overhaul_active
					has_global_flag = ideological_revolution
					OR = {
						has_valid_civic = civic_business_reporting_administration
						has_valid_civic = civic_corporate_cybercap
					}
				}
			}
		}
		planet_managers_unity_produces_add = -4
		job_manager_per_pop = 0.125
	}
	triggered_country_modifier = {
		potential = {
			exists = owner
			owner = {
				is_megacorp = yes
				NAND = {
					has_global_flag = cultural_overhaul_active
					has_global_flag = ideological_revolution
					OR = {
						has_valid_civic = civic_business_reporting_administration
						has_valid_civic = civic_corporate_cybercap
					}
				}
			}
		}
		imperial_governance_capacity = 40
		mult = planet.value:building_imperial_government_sv|job|manager|
	}
	#智械
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_machine_empire = yes
			}
		}
		planet_administrators_unity_produces_add = -4
		job_coordinator_per_pop = 0.125
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_valid_civic = civic_machine_servitor
			}
		}
		job_coordinator_per_pop = 0.075
		planet_administrators_upkeep_mult = 0.25
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_valid_civic = civic_machine_servitor
			}
		}
		job_maintenance_drone_per_pop = 0.05
	}
	triggered_country_modifier = {
		potential = {
			exists = owner
			owner = {
				is_machine_empire = yes
			}
		}
		imperial_governance_capacity = 40
		mult = planet.value:building_imperial_government_sv|job|coordinator|
	}
	#蜂群
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_hive_empire = yes }
		}
		planet_administrators_unity_produces_add = -4
		job_synapse_drone_per_pop = 0.125
	}
	triggered_country_modifier = {
		potential = {
			exists = owner
			owner = { is_hive_empire = yes }
		}
		imperial_governance_capacity = 40
		mult = planet.value:building_imperial_government_sv|job|synapse_drone|
	}
	
	# 有星轨建筑时的额外效果
	#普通
	triggered_planet_modifier = {
		potential = {
			owner = {
				is_regular_empire = yes
				is_spiritualist = no
				has_make_spiritualist_perk = no
				is_megacorp = no
				NAND = {
					has_global_flag = cultural_overhaul_active
					has_global_flag = ideological_revolution
					OR = {
						has_valid_civic = civic_anarchism
						has_valid_civic = civic_democracy_and_clean_government
						has_valid_civic = civic_OGAS
						has_valid_civic = civic_cybercap
						AND = {
							has_valid_civic = civic_shared_burden
							has_ascension_perk = ap_future_society
						}
					}
				}
			}
			exists = orbital_defence
			orbital_defence = {
				exists = starbase
				starbase = { has_starbase_building = ring_bureaucracy_hub }
			}
		}
		planet_administrators_unity_produces_add = -1
	}
	triggered_country_modifier = {
		potential = {
			owner = {
				is_regular_empire = yes
				is_spiritualist = no
				has_make_spiritualist_perk = no
				is_megacorp = no
				NAND = {
					has_global_flag = cultural_overhaul_active
					has_global_flag = ideological_revolution
					OR = {
						has_valid_civic = civic_anarchism
						has_valid_civic = civic_democracy_and_clean_government
						has_valid_civic = civic_OGAS
						has_valid_civic = civic_cybercap
						AND = {
							has_valid_civic = civic_shared_burden
							has_ascension_perk = ap_future_society
						}
					}
				}
			}
			exists = orbital_defence
			orbital_defence = {
				exists = starbase
				starbase = { has_starbase_building = ring_bureaucracy_hub }
			}
		}
		imperial_governance_capacity = 10
		mult = value:building_imperial_government_sv|job|bureaucrat|
	}
	#唯心
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				OR = {
					is_spiritualist = yes
					has_make_spiritualist_perk = yes
				}
				NAND = {
					has_global_flag = cultural_overhaul_active
					has_global_flag = ideological_revolution
					OR = {
						has_valid_civic = civic_anarchism
						has_valid_civic = civic_democracy_and_clean_government
						has_valid_civic = civic_OGAS
						has_valid_civic = civic_cybercap
						AND = {
							has_valid_civic = civic_shared_burden
							has_ascension_perk = ap_future_society
						}
					}
				}
			}
			exists = orbital_defence
			orbital_defence = {
				exists = starbase
				starbase = { has_starbase_building = ring_bureaucracy_hub }
			}
		}
		planet_priests_unity_produces_add = -1
	}
	triggered_country_modifier = {
		potential = {
			exists = owner
			owner = {
				OR = {
					is_spiritualist = yes
					has_make_spiritualist_perk = yes
				}
				NAND = {
					has_global_flag = cultural_overhaul_active
					has_global_flag = ideological_revolution
					OR = {
						has_valid_civic = civic_anarchism
						has_valid_civic = civic_democracy_and_clean_government
						has_valid_civic = civic_OGAS
						has_valid_civic = civic_cybercap
						AND = {
							has_valid_civic = civic_shared_burden
							has_ascension_perk = ap_future_society
						}
					}
				}
			}
			exists = orbital_defence
			orbital_defence = {
				exists = starbase
				starbase = { has_starbase_building = ring_bureaucracy_hub }
			}
		}
		imperial_governance_capacity = 10
		mult = planet.value:building_imperial_government_sv_2|job1|priest|job2|death_priest|
	}
	#巨企
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_megacorp = yes
				NAND = {
					has_global_flag = cultural_overhaul_active
					has_global_flag = ideological_revolution
					OR = {
						has_valid_civic = civic_business_reporting_administration
						has_valid_civic = civic_corporate_cybercap
					}
				}
			}
			exists = orbital_defence
			orbital_defence = {
				exists = starbase
				starbase = { has_starbase_building = ring_bureaucracy_hub }
			}
		}
		planet_managers_unity_produces_add = -1
	}
	triggered_country_modifier = {
		potential = {
			exists = owner
			owner = {
				is_megacorp = yes
				NAND = {
					has_global_flag = cultural_overhaul_active
					has_global_flag = ideological_revolution
					OR = {
						has_valid_civic = civic_business_reporting_administration
						has_valid_civic = civic_corporate_cybercap
					}
				}
			}
			exists = orbital_defence
			orbital_defence = {
				exists = starbase
				starbase = { has_starbase_building = ring_bureaucracy_hub }
			}
		}
		imperial_governance_capacity = 10
		mult = planet.value:building_imperial_government_sv|job|manager|
	}
	#智械
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_machine_empire = yes
			}
			exists = orbital_defence
			orbital_defence = {
				exists = starbase
				starbase = { has_starbase_building = ring_coordination_hub }
			}
		}
		planet_administrators_unity_produces_add = -1
	}
	triggered_country_modifier = {
		potential = {
			exists = owner
			owner = {
				is_machine_empire = yes
			}
			exists = orbital_defence
			orbital_defence = {
				exists = starbase
				starbase = { has_starbase_building = ring_coordination_hub }
			}
		}
		imperial_governance_capacity = 10
		mult = planet.value:building_imperial_government_sv|job|coordinator|
	}
	#蜂群
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_hive_empire = yes }
			exists = orbital_defence
			orbital_defence = {
				exists = starbase
				starbase = { has_starbase_building = ring_synapse_hub }
			}
		}
		planet_administrators_unity_produces_add = -1
	}
	triggered_country_modifier = {
		potential = {
			exists = owner
			owner = { is_hive_empire = yes }
			exists = orbital_defence
			orbital_defence = {
				exists = starbase
				starbase = { has_starbase_building = ring_synapse_hub }
			}
		}
		imperial_governance_capacity = 10
		mult = planet.value:building_imperial_government_sv|job|synapse_drone|
	}
	
	# 拜占庭官僚
	triggered_planet_modifier = {
		potential = {
			owner = { has_valid_civic = civic_byzantine_bureaucracy }
		}
		planet_administrators_unity_produces_add = -1
	}
	triggered_country_modifier = {
		potential = {
			owner = { has_valid_civic = civic_byzantine_bureaucracy }
		}
		imperial_governance_capacity = 10
		mult = value:building_imperial_government_sv|job|bureaucrat|
	}

	# 兼容华章的更多思潮无限
	triggered_planet_modifier = {
		potential = {
			has_global_flag = cultural_overhaul_active
			has_global_flag = ideological_revolution
			exists = owner
			owner = {
				OR = {
					has_valid_civic = civic_anarchism
					has_valid_civic = civic_democracy_and_clean_government
					has_valid_civic = civic_business_reporting_administration
					AND = {
						has_valid_civic = civic_shared_burden
						has_ascension_perk = ap_future_society
					}
					has_valid_civic = civic_cybercap
					has_valid_civic = civic_corporate_cybercap
					has_valid_civic = civic_OGAS
				}
			}
		}
		planet_clerk_consumer_goods_upkeep_add = 0.5
		job_clerk_per_pop = 0.2
	}
	triggered_country_modifier = {
		potential = {
			exists = owner
			owner = {
				has_global_flag = cultural_overhaul_active
				has_global_flag = ideological_revolution
				has_valid_civic = civic_anarchism
			}
		}
		imperial_governance_capacity = 4
		mult = planet.value:building_imperial_government_sv|job|clerk|
	}

	triggered_desc = {
		text = building_imperial_government_effect
	}
}

holding_province_administrative_center = {
	base_buildtime = @b3_time
	owner_type = subject_holding
	base_cap_amount = 1

	category = government

	potential = {
		owner = {
			is_imperial_province = yes
			NOT = { has_country_flag = flag_holding_province_administrative_center_built }
		}
	}
	destroy_trigger = {
		owner = {
			is_imperial_province = no
		}
	}

	resources = {
		category = planet_holdings
		cost = {
			minerals = @b3_minerals
			volatile_motes = @b3_rare_cost
		}
		upkeep = {
			energy = @b3_upkeep
			volatile_motes = @b3_rare_upkeep
		}
	}
	triggered_desc = {
		text = holding_province_administrative_center_effect
	}

	#普通
	triggered_planet_modifier = {
		potential = {
			owner = {
				is_regular_empire = yes
				is_spiritualist = no
				has_make_spiritualist_perk = no
				is_megacorp = no
				NAND = {
					has_global_flag = cultural_overhaul_active
					has_global_flag = ideological_revolution
					OR = {
						has_valid_civic = civic_anarchism
						has_valid_civic = civic_democracy_and_clean_government
						has_valid_civic = civic_OGAS
						has_valid_civic = civic_cybercap
						AND = {
							has_valid_civic = civic_shared_burden
							has_ascension_perk = ap_future_society
						}
					}
				}
			}
		}
		planet_administrators_unity_produces_add = -0.8
		job_bureaucrat_add = 6
		job_bureaucrat_per_pop = 0.05
	}
	triggered_country_modifier = {
		potential = {
			owner = {
				is_regular_empire = yes
				is_spiritualist = no
				has_make_spiritualist_perk = no
				is_megacorp = no
				NAND = {
					has_global_flag = cultural_overhaul_active
					has_global_flag = ideological_revolution
					OR = {
						has_valid_civic = civic_anarchism
						has_valid_civic = civic_democracy_and_clean_government
						has_valid_civic = civic_OGAS
						has_valid_civic = civic_cybercap
						AND = {
							has_valid_civic = civic_shared_burden
							has_ascension_perk = ap_future_society
						}
					}
				}
			}
		}
		imperial_governance_capacity = 8
		mult = planet.value:holding_province_administrative_center_sv|job|bureaucrat|
	}
	#唯心
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				OR = {
					is_spiritualist = yes
					has_make_spiritualist_perk = yes
				}
				NAND = {
					has_global_flag = cultural_overhaul_active
					has_global_flag = ideological_revolution
					OR = {
						has_valid_civic = civic_anarchism
						has_valid_civic = civic_democracy_and_clean_government
						has_valid_civic = civic_OGAS
						has_valid_civic = civic_cybercap
						AND = {
							has_valid_civic = civic_shared_burden
							has_ascension_perk = ap_future_society
						}
					}
				}
			}
		}
		planet_priests_unity_produces_add = -0.8
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				OR = {
					is_spiritualist = yes
					has_make_spiritualist_perk = yes
				}
				is_megacorp = no
				NAND = {
					has_global_flag = cultural_overhaul_active
					has_global_flag = ideological_revolution
					OR = {
						has_valid_civic = civic_anarchism
						has_valid_civic = civic_democracy_and_clean_government
						has_valid_civic = civic_OGAS
						has_valid_civic = civic_cybercap
						AND = {
							has_valid_civic = civic_shared_burden
							has_ascension_perk = ap_future_society
						}
					}
				}
			}
		}
		job_priest_add = 6
		job_priest_per_pop = 0.05
	}
	triggered_country_modifier = {
		potential = {
			exists = owner
			owner = {
				OR = {
					is_spiritualist = yes
					has_make_spiritualist_perk = yes
				}
				NAND = {
					has_global_flag = cultural_overhaul_active
					has_global_flag = ideological_revolution
					OR = {
						has_valid_civic = civic_anarchism
						has_valid_civic = civic_democracy_and_clean_government
						has_valid_civic = civic_OGAS
						has_valid_civic = civic_cybercap
						AND = {
							has_valid_civic = civic_shared_burden
							has_ascension_perk = ap_future_society
						}
					}
				}
			}
		}
		imperial_governance_capacity = 8
		mult = planet.value:holding_province_administrative_center_sv_2|job1|priest|job2|death_priest|
	}
	#巨企
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_megacorp = yes
				NAND = {
					has_global_flag = cultural_overhaul_active
					has_global_flag = ideological_revolution
					OR = {
						has_valid_civic = civic_business_reporting_administration
						has_valid_civic = civic_corporate_cybercap
					}
				}
			}
		}
		planet_managers_unity_produces_add = -0.8
		job_manager_add = 6
		job_manager_per_pop = 0.05
	}
	triggered_country_modifier = {
		potential = {
			exists = owner
			owner = {
				is_megacorp = yes
				NAND = {
					has_global_flag = cultural_overhaul_active
					has_global_flag = ideological_revolution
					OR = {
						has_valid_civic = civic_business_reporting_administration
						has_valid_civic = civic_corporate_cybercap
					}
				}
			}
		}
		imperial_governance_capacity = 8
		mult = planet.value:holding_province_administrative_center_sv|job|manager|
	}
	#智械
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_machine_empire = yes
			}
		}
		planet_administrators_unity_produces_add = -0.8
		job_coordinator_add = 6
		job_coordinator_per_pop = 0.05
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_valid_civic = civic_machine_servitor
			}
		}
		job_coordinator_per_pop = 0.05
		planet_administrators_upkeep_mult = 0.10
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_valid_civic = civic_machine_servitor
			}
		}
		job_maintenance_drone_per_pop = 0.08
	}
	triggered_country_modifier = {
		potential = {
			exists = owner
			owner = {
				is_machine_empire = yes
			}
		}
		imperial_governance_capacity = 8
		mult = planet.value:holding_province_administrative_center_sv|job|coordinator|
	}
	#蜂群
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_hive_empire = yes }
		}
		planet_administrators_unity_produces_add = -0.8
		job_synapse_drone_add = 6
		job_synapse_drone_per_pop = 0.05
	}
	triggered_country_modifier = {
		potential = {
			exists = owner
			owner = { is_hive_empire = yes }
		}
		imperial_governance_capacity = 8
		mult = planet.value:holding_province_administrative_center_sv|job|synapse_drone|
	}

	# 兼容华章的更多思潮无限
	triggered_planet_modifier = {
		potential = {
			has_global_flag = cultural_overhaul_active
			has_global_flag = ideological_revolution
			exists = owner
			owner = {
				OR = {
					has_valid_civic = civic_anarchism
					has_valid_civic = civic_democracy_and_clean_government
					has_valid_civic = civic_business_reporting_administration
					AND = {
						has_valid_civic = civic_shared_burden
						has_ascension_perk = ap_future_society
					}
					has_valid_civic = civic_cybercap
					has_valid_civic = civic_corporate_cybercap
					has_valid_civic = civic_OGAS
				}
			}
		}
		planet_clerk_consumer_goods_upkeep_add = 0.25
		job_clerk_per_pop = 0.125
	}
	triggered_country_modifier = {
		potential = {
			exists = owner
			owner = {
				has_global_flag = cultural_overhaul_active
				has_global_flag = ideological_revolution
				has_valid_civic = civic_anarchism
			}
		}
		imperial_governance_capacity = 2
		mult = planet.value:building_imperial_government_sv|job|clerk|
	}

	on_queued = { planet.owner = { set_country_flag = flag_holding_province_administrative_center_built } }
	on_unqueued = { planet.owner = { remove_country_flag = flag_holding_province_administrative_center_built } }
	on_destroy = { planet.owner = { remove_country_flag = flag_holding_province_administrative_center_built } }
}