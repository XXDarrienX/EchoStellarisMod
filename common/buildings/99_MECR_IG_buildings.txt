building_imperial_government = {
	base_buildtime = @b3_time
	position_priority = 50

	planet_limit = 1
	empire_limit = {
		base = 1
		modifier = {
			add = galactic_emperor.modifier:building_imperial_government_cap
		}
	}

	category = government

	building_sets = {
		government
	}

	potential = {
		exists = owner
		owner = { is_galactic_emperor = yes }
		is_special_colony_type = no
	}
	destroy_trigger = {
		OR = {
			owner = { is_galactic_emperor = no }
			is_special_colony_type = yes
		}
	}
	allow = {
	}

	resources = {
		category = building_imperial_government
		cost = {
			trigger = { owner = { is_ai = no } }
			minerals = @b3_minerals
			influence = 100
		}
		upkeep = {
			trigger = { owner = { is_ai = no } }
			energy = @b3_upkeep
			influence = 1
		}
	}

	triggered_desc = { text = building_imperial_government_effect }

	#普通
	triggered_planet_modifier = {
		potential = {
			owner = {
				is_regular_empire = yes
			}
		}
		job_bureaucrat_per_pop = 0.1
	}
	#格式塔
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_gestalt = yes
			}
		}
		job_coordinator_per_pop = 0.1
	}
	triggered_planet_modifier = { #机仆
		potential = {
			exists = owner
			owner = {
				has_valid_civic = civic_machine_servitor
			}
		}
		job_coordinator_per_pop = 0.05
		planet_bureaucrats_upkeep_mult = 0.2
	}

	on_destroy = { #ai皇帝不准拆这个
		if = {
			limit = {
				owner = {
					is_galactic_emperor = yes
					is_ai = yes
				}
			}
			add_building = building_imperial_capital
		}
	}
}

holding_province_administrative_center = {
	base_buildtime = @b3_time
	owner_type = subject_holding
	planet_limit = 1

	category = government

	potential = {
		owner = {
			is_imperial_province_with_custom_tooltip = yes
			NOT = { has_country_flag = flag_holding_province_administrative_center_built }
		}
		is_special_colony_type = no
	}
	destroy_trigger = {
		OR = {
			owner = { is_imperial_province_with_custom_tooltip = no }
			is_special_colony_type = yes
		}
	}

	resources = {
		category = building_imperial_government
		cost = {
			minerals = @b3_minerals
		}
		upkeep = {
			energy = @b3_upkeep
		}
	}

	triggered_desc = { text = holding_province_administrative_center_effect }

	#普通
	triggered_planet_modifier = {
		potential = {
			owner = {
				is_regular_empire = yes
			}
		}
		job_bureaucrat_add = 600
		job_bureaucrat_per_pop = 0.04
	}
	#格式塔
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_gestalt_empire = yes
			}
		}
		job_coordinator_add = 600
		job_coordinator_per_pop = 0.04
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_valid_civic = civic_machine_servitor
			}
		}
		job_coordinator_per_pop = 0.02
		planet_bureaucrats_upkeep_mult = 0.10
	}

	on_queued = { planet.owner = { set_country_flag = flag_holding_province_administrative_center_built } }
	on_unqueued = { planet.owner = { remove_country_flag = flag_holding_province_administrative_center_built } }
	on_destroy = { planet.owner = { remove_country_flag = flag_holding_province_administrative_center_built } }
}