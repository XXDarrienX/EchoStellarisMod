#####################
# Astral Planes Unique Buildings
#####################

building_astral_siphon_1 = {
	base_buildtime = @b1_time
	base_cap_amount = 1
	category = resource

	potential = {
		owner = {
			check_variable = {
				which = astral_siphon_unlocked
				value >= 1
			}
		}
	}

	destroy_trigger = {
		OR = {
			NOT = { exists = owner }
			#TODO (AUG-39304) check if new owner doesn't have astral action points
		}
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = @b1_minerals
		}
		upkeep = {
			energy = @b1_upkeep
		}
		produces = {
			astral_threads = 1
		}
	}

	country_modifier = {
		country_resource_max_astral_threads_add = 100
	}

	upgrades = {
		building_astral_siphon_2
	}
}

building_astral_siphon_2 = {
	base_buildtime = @b2_time
	can_build = no
	category = resource

	potential = {
		owner = {
			check_variable = {
				which = astral_siphon_unlocked
				value >= 2
			}
		}
	}

	destroy_trigger = {
		OR = {
			NOT = { exists = owner }
			#TODO (AUG-39304) check if new owner doesn't have astral action points
		}
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = @b3_minerals
		}
		upkeep = {
			energy = @b3_upkeep
		}
		produces = {
			astral_threads = 2
		}
	}

	country_modifier = {
		country_resource_max_astral_threads_add = 200
	}

	upgrades = {
		building_astral_siphon_3
	}
}

building_astral_siphon_3 = {
	base_buildtime = @b3_time
	can_build = no
	category = resource

	potential = {
		owner = {
			check_variable = {
				which = astral_siphon_unlocked
				value >= 3
			}
		}
	}

	destroy_trigger = {
		OR = {
			NOT = { exists = owner }
			#TODO (AUG-39304) check if new owner doesn't have astral action points
		}
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = @b3_minerals
		}
		upkeep = {
			energy = @b3_upkeep
		}
		produces = {
			astral_threads = 3
		}
	}

	country_modifier = {
		country_resource_max_astral_threads_add = 300
	}
}
