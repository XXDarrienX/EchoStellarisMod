#root = planet

@stickiness = 10
@stickiness_low = 5

col_industrial = {
	icon = GFX_colony_type_industrial

	potential = {
		exists = space_owner
		space_owner = { country_uses_consumer_goods = yes }
		NOR = {
			uses_district_set = city_world
			uses_district_set = habitat
			uses_district_set = machine_world
			uses_district_set = hive_world
			uses_district_set = nsc_freebooter_habitat
		}
		is_special_colony_type = no
		is_capital = no
	}

	planet_modifier = {
		planet_artisans_upkeep_mult = -0.10
		planet_metallurgists_upkeep_mult = -0.10
	}

	triggered_planet_modifier = {
		potential = { uses_district_set = ring_world }
		logistic_growth_mult = 0.1
		planet_pop_assembly_mult = 0.1
		bonus_pop_growth_mult = 0.1
	}

	triggered_planet_modifier = {
		potential = {
			exists = space_owner
			space_owner = {
				is_galactic_community_member = yes
			}
			OR = {
				is_active_resolution = "resolution_industry_environmental_ordinance_waivers"
				is_active_resolution = "resolution_industry_project_cornucopia"
				is_active_resolution = "resolution_industry_6"
			}
		}
		modifier = {
			planet_artisans_produces_mult = 0.0375
			planet_metallurgists_produces_mult = 0.0375
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = space_owner
			space_owner = { has_tradition = tr_adaptability_finish }
		}
		modifier = {
			planet_artisans_produces_mult = 0.05
			planet_metallurgists_produces_mult = 0.05
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = space_owner
			space_owner = {
				is_galactic_community_member = yes
			}
			is_active_resolution = "resolution_greatergood_universal_prosperity_mandate"
		}
		modifier = {
			planet_artisans_produces_mult = 0.10
		}
	}

	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_industrial
		}
		modifier = {
			OR = {
				num_zones = {
					type = zone_industrial
					value > 0
				}
				AND = {
					num_zones = {
						type = zone_foundry
						value > 0
					}
					num_zones = {
						type = zone_factory
						value > 0
					}
				}
			}
			add = @zone_urban
		}
		inline_script = {
			script = colony_types/shared_weights_urban
		}
	}
}

col_foundry = {
	icon = GFX_colony_type_foundry

	potential = {
		exists = space_owner
		NOR = {
			uses_district_set = city_world
			uses_district_set = habitat
			uses_district_set = machine_world
			uses_district_set = hive_world
			uses_district_set = cosmogenesis_world
			uses_district_set = nsc_freebooter_habitat
		}
		space_owner = { is_wilderness_empire = no }
		is_special_colony_type = no
		is_capital = no
		NOT = { is_planet_class = pc_nanotech }
	}

	custom_tooltip = col_foundry_custom
	planet_modifier = {
		planet_metallurgists_upkeep_mult = -0.20
	}

	triggered_planet_modifier = {
		potential = { uses_district_set = ring_world }
		logistic_growth_mult = 0.1
		planet_pop_assembly_mult = 0.1
		bonus_pop_growth_mult = 0.1
	}
	triggered_planet_modifier = {
		potential = {
			exists = space_owner
			space_owner = {
				is_galactic_community_member = yes
			}
			OR = {
				is_active_resolution = "resolution_industry_environmental_ordinance_waivers"
				is_active_resolution = "resolution_industry_project_cornucopia"
			}
		}
		modifier = {
			planet_metallurgists_produces_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = space_owner
			space_owner = { has_tradition = tr_adaptability_finish }
		}
		modifier = {
			planet_metallurgists_produces_mult = 0.05
		}
	}

	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_foundry
		}
		modifier = {
			num_zones = {
				type = zone_foundry
				value > 0
			}
			num_zones = {
				type = zone_factory
				value = 0
			}
			add = @zone_urban
		}
		inline_script = {
			script = colony_types/shared_weights_urban
		}
	}
}

col_capital_factory = {
	icon = GFX_colony_type_capital_factory

	potential = {
		is_capital = yes

		exists = space_owner
		space_owner = {
			AND = {
				is_country_type = default
				is_gestalt = no
				
				OR = {
					is_ai = no
					AND = {
						years_passed > 25
						num_owned_planets >= 5
					}
				}
			}
		}
	}

	planet_modifier = {
		planet_stability_add = 5
		planet_housing_add = 1000
		planet_resettlement_unemployed_destination_mult = 0.1
	}

	triggered_planet_modifier = {
		potential = { uses_district_set = ring_world }
		logistic_growth_mult = 0.1
		planet_pop_assembly_mult = 0.1
		bonus_pop_growth_mult = 0.1
	}

	triggered_planet_modifier = {
		potential = {
			exists = space_owner
			space_owner = { has_tradition = tr_adaptability_finish }
		}
		modifier = {
			planet_jobs_produces_mult = 0.05
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = space_owner
			space_owner = {
				is_galactic_community_member = yes
			}
			is_active_resolution = "resolution_greatergood_universal_prosperity_mandate"
		}
		modifier = {
			planet_artisans_produces_mult = 0.10
		}
	}

	weight_modifier = {
		base = 0
	}
}

# Habitat Industrial
col_habitat_industrial = {
	icon = GFX_colony_type_hab_industrial

	potential = {
		exists = space_owner
		space_owner = { country_uses_consumer_goods = yes }
		uses_district_set = habitat
		is_capital = no
	}

	planet_modifier = {
		planet_metallurgists_upkeep_mult = -0.1
		planet_artisans_upkeep_mult = -0.1
	}

	triggered_planet_modifier = {
		potential = {
			exists = space_owner
			space_owner = {
				is_galactic_community_member = yes
			}
			OR = {
				is_active_resolution = "resolution_industry_environmental_ordinance_waivers"
				is_active_resolution = "resolution_industry_project_cornucopia"
				is_active_resolution = "resolution_industry_6"
			}
		}
		modifier = {
			planet_artisans_produces_mult = 0.05
			planet_metallurgists_produces_mult = 0.05
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = space_owner
			space_owner = {
				is_galactic_community_member = yes
			}
			is_active_resolution = "resolution_greatergood_universal_prosperity_mandate"
		}
		modifier = {
			planet_artisans_produces_mult = 0.10
		}
	}

	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_habitat_industrial
		}
		modifier = {
			OR = {
				num_zones = {
					type = zone_industrial
					value > 0
				}
				AND = {
					num_zones = {
						type = zone_foundry
						value > 0
					}
					num_zones = {
						type = zone_factory
						value > 0
					}
				}
			}
			add = @zone_urban
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_hab_housing
			}
			mode = add
		}
	}
}

# Ecumenpolis Industrial
col_ecu_industrial = {
	icon = GFX_colony_type_industrial

	potential = {
		exists = space_owner
		space_owner = { country_uses_consumer_goods = yes }
		uses_district_set = city_world
		is_capital = no
	}

	planet_modifier = {
		planet_district_arcology_arms_industry_build_speed_mult = 0.25
		planet_district_arcology_arms_industry_build_speed_mult = 0.25
		planet_artisans_upkeep_mult = -0.10
		planet_metallurgists_upkeep_mult = -0.10
	}

	triggered_planet_modifier = {
		potential = {
			exists = space_owner
			space_owner = {
				is_galactic_community_member = yes
			}
			OR = {
				is_active_resolution = "resolution_industry_environmental_ordinance_waivers"
				is_active_resolution = "resolution_industry_project_cornucopia"
			}
		}
		modifier = {
			planet_artisans_produces_mult = 0.05
			planet_metallurgists_produces_mult = 0.05
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = space_owner
			space_owner = {
				is_galactic_community_member = yes
			}
			is_active_resolution = "resolution_greatergood_universal_prosperity_mandate"
		}
		modifier = {
			planet_artisans_produces_mult = 0.10
		}
	}

	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_ecu_industrial
		}

		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_arcology_civilian_industry
			}
			mode = add
			mult = 6
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_arcology_arms_industry
			}
			mode = add
			mult = 6
		}
		modifier = {
			OR = {
				num_zones = {
					type = zone_industrial
					value > 0
				}
				AND = {
					num_zones = {
						type = zone_foundry
						value > 0
					}
					num_zones = {
						type = zone_factory
						value > 0
					}
				}
			}
			add = @zone_urban
		}
	}
}

# Ecumenpolis Factory
col_ecu_factory = {
	icon = GFX_colony_type_factory

	potential = {
		uses_district_set = city_world
		exists = space_owner
		space_owner = { country_uses_consumer_goods = yes }
		is_capital = no
	}

	planet_modifier = {
		planet_building_factory_1_build_speed_mult = 0.25
		planet_district_arcology_civilian_industry_build_speed_mult = 0.25
		planet_artisans_upkeep_mult = -0.2
	}

	triggered_planet_modifier = {
		potential = {
			exists = space_owner
			space_owner = {
				is_galactic_community_member = yes
			}
			OR = {
				is_active_resolution = "resolution_industry_environmental_ordinance_waivers"
				is_active_resolution = "resolution_industry_project_cornucopia"
				is_active_resolution = "resolution_industry_6"
			}
		}
		modifier = {
			planet_artisans_produces_mult = 0.05
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = space_owner
			space_owner = {
				is_galactic_community_member = yes
			}
			is_active_resolution = "resolution_greatergood_universal_prosperity_mandate"
		}
		modifier = {
			planet_artisans_produces_mult = 0.10
		}
	}

	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_ecu_factory
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_arcology_civilian_industry
			}
			mode = add
			mult = 8
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_arcology_arms_industry
			}
			mode = add
			mult = -3
		}
		modifier = {
			num_zones = {
				type = zone_foundry
				value = 0
			}
			num_zones = {
				type = zone_factory
				value > 0
			}
			add = @zone_urban
		}
	}
}

# Machine World Factory
col_mac_factory = {
	icon = GFX_colony_type_factory

	potential = {
		uses_district_set = machine_world
		space_owner = { country_uses_consumer_goods = yes }
		is_capital = no
	}

	custom_tooltip = col_factory_custom
	planet_modifier = {
		planet_artisans_upkeep_mult = -0.2
	}

	triggered_planet_modifier = {
		potential = {
			exists = space_owner
			space_owner = {
				is_galactic_community_member = yes
			}
			OR = {
				is_active_resolution = "resolution_industry_environmental_ordinance_waivers"
				is_active_resolution = "resolution_industry_project_cornucopia"
			}
		}
		modifier = {
			planet_artisans_produces_mult = 0.05
		}
	}

	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_mac_factory
		}
		modifier = {
			num_zones = {
				type = zone_foundry
				value = 0
			}
			num_zones = {
				type = zone_factory
				value > 0
			}
			add = @zone_urban
		}
	}
}