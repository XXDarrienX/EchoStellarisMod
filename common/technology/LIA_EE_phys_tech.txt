### ENCRYPTION / DECRYPTION

tech_earlygame_spy_discount = {
	cost = @tier1cost1
	area = physics
	tier = 0
	category = { computing }
	start_tech = yes

	modifier = {
		operations_cost_mult = -0.25
		operations_upkeep_mult = -0.25
	}
}

tech_encryption_1 = {
	area = physics
	tier = 1
	cost = @tier1cost3
	category = { computing }
	prerequisites = { "tech_physics_1" "tech_adaptive_bureaucracy" }	#요구 관료기술 조건을 한단계 낮춘 대신
	weight = @tier2weight2

	gateway = espionage

	modifier = {
		intel_encryption_add = 2
	}

	weight_modifier = {
		modifier = {
			factor = value:tech_weight_likelihood
			research_leader = {
				area = physics
				has_trait = "leader_trait_expertise_computing"
			}
		}
		modifier = {	#식민지 관료제가 없으면 등장가능성이 칼질되도록
			factor = 0.25
			NOT = {
				has_technology = tech_colonial_bureaucracy
			}
		}		
		modifier = {
			factor = 0.5
			NOR = {
				is_ai = yes # AIs don't get the informative event that flags this
				has_country_flag = first_spynetwork
			}
		}
		modifier = {
			factor = 1.25
			years_passed > 25
		}		
		modifier = {
			factor = 1.5
			years_passed > 50
		}
		modifier = {
			factor = 2.0
			years_passed > 75
		}
		modifier = {
			factor = 1.25
			has_tradition = tr_subterfuge_adopt
		}		
	}

	ai_weight = {
		modifier = {
			factor = 1.25
			research_leader = {
				area = physics
				has_trait = "leader_trait_expertise_computing"
			}
		}		
		modifier = {
			factor = 2
			years_passed > 50
		}
		modifier = {
			factor = 3
			years_passed > 75
		}		
	}
}

tech_encryption_2 = {
	area = physics
	tier = 2
	cost = @tier2cost3
	category = { computing }
	prerequisites = { "tech_encryption_1" "tech_physics_2" }
	weight = @tier3weight3

	gateway = espionage

	modifier = {
		intel_encryption_add = 2
	}

	weight_modifier = {
		modifier = {
			factor = value:tech_weight_likelihood
			research_leader = {
				area = physics
				has_trait = "leader_trait_expertise_computing"
			}
		}
		modifier = {
			factor = 0.5
			NOR = {
				is_ai = yes # AIs don't get the informative event that flags this
				has_country_flag = first_spynetwork
			}
		}
		modifier = {
			factor = 1.25
			years_passed > 75
		}
		modifier = {
			factor = 1.5
			years_passed > 100
		}
		modifier = {
			factor = 1.25
			has_tradition = tr_subterfuge_adopt
		}		
	}

	ai_weight = {
		modifier = {
			factor = 1.25
			research_leader = {
				area = physics
				has_trait = "leader_trait_expertise_computing"
			}
		}
		modifier = {
			factor = 1.5
			years_passed > 50
		}		
		modifier = {
			factor = 2
			years_passed > 75
		}
		modifier = {
			factor = 3
			years_passed > 100
		}		
	}
}

tech_encryption_3 = {
	area = physics
	tier = 4
	cost = @tier4cost3
	category = { computing }
	prerequisites = { "tech_encryption_2" "tech_physics_3" }
	weight = @tier4weight2

	modifier = {
		intel_encryption_add = 2
	}

	weight_modifier = {
		modifier = {
			factor = value:tech_weight_likelihood
			research_leader = {
				area = physics
				has_trait = "leader_trait_expertise_computing"
			}
		}
		modifier = {
			factor = 0.5
			NOR = {
				is_ai = yes # AIs don't get the informative event that flags this
				has_country_flag = first_spynetwork
			}
		}
		modifier = {
			factor = 1.25
			years_passed > 100
		}
		modifier = {
			factor = 1.5
			years_passed > 125
		}
		modifier = {
			factor = 1.25
			has_tradition = tr_subterfuge_adopt
		}
	}

	ai_weight = {
		modifier = {
			factor = 1.25
			research_leader = {
				area = physics
				has_trait = "leader_trait_expertise_computing"
			}
		}
		modifier = {
			factor = 2
			years_passed > 75
		}
		modifier = {
			factor = 3
			years_passed > 100
		}
		modifier = {
			factor = 3
			years_passed > 125
		}		
	}
}

tech_decryption_1 = {
	area = physics
	tier = 1
	cost = @tier1cost3
	category = { computing }
	prerequisites = { "tech_physics_1" "tech_adaptive_bureaucracy" }
	weight = @tier2weight2

	gateway = espionage

	modifier = {
		intel_decryption_add = 2
		operations_cost_mult = 0.05
		operations_upkeep_mult = 0.05
	}

	weight_modifier = {
		modifier = {
			factor = value:tech_weight_likelihood
			research_leader = {
				area = physics
				has_trait = "leader_trait_expertise_computing"
			}
		}
		modifier = {
			factor = 0.25
			NOT = {
				has_technology = tech_colonial_bureaucracy
			}
		}		
		modifier = {
			factor = 0.5
			NOR = {
				is_ai = yes # AIs don't get the informative event that flags this
				has_country_flag = first_spynetwork
			}
		}
		modifier = {
			factor = 1.25
			years_passed > 25
		}		
		modifier = {
			factor = 1.5
			years_passed > 50
		}
		modifier = {
			factor = 2.0
			years_passed > 75
		}
		modifier = {
			factor = 1.25
			has_tradition = tr_subterfuge_adopt
		}
	}

	ai_weight = {
		modifier = {
			factor = 1.25
			research_leader = {
				area = physics
				has_trait = "leader_trait_expertise_computing"
			}
		}
		modifier = {
			factor = 3
			years_passed > 50
		}
		modifier = {
			factor = 3
			years_passed > 75
		}			
	}
}

tech_decryption_2 = {
	area = physics
	tier = 2
	cost = @tier2cost3
	category = { computing }
	prerequisites = { "tech_decryption_1" "tech_physics_2" }
	weight = @tier3weight3

	gateway = espionage

	modifier = {
		intel_decryption_add = 2
		operations_cost_mult = 0.10
		operations_upkeep_mult = 0.10
	}

	weight_modifier = {
		modifier = {
			factor = value:tech_weight_likelihood
			research_leader = {
				area = physics
				has_trait = "leader_trait_expertise_computing"
			}
		}
		modifier = {
			factor = 0.5
			NOR = {
				is_ai = yes # AIs don't get the informative event that flags this
				has_country_flag = first_spynetwork
			}
		}
		modifier = {
			factor = 1.25
			years_passed > 75
		}
		modifier = {
			factor = 1.5
			years_passed > 100
		}
		modifier = {
			factor = 1.25
			has_tradition = tr_subterfuge_adopt
		}
	}

	ai_weight = {
		modifier = {
			factor = 1.25
			research_leader = {
				area = physics
				has_trait = "leader_trait_expertise_computing"
			}
		}
		modifier = {
			factor = 1.5
			years_passed > 50
		}
		modifier = {
			factor = 2
			years_passed > 75
		}	
		modifier = {
			factor = 3
			years_passed > 100
		}			
	}
}

tech_decryption_3 = {
	area = physics
	tier = 4
	cost = @tier4cost3
	category = { computing }
	prerequisites = { "tech_decryption_2" "tech_physics_3" }
	weight = @tier4weight2

	modifier = {
		intel_decryption_add = 2
		operations_cost_mult = 0.10
		operations_upkeep_mult = 0.10
	}

	weight_modifier = {
		modifier = {
			factor = value:tech_weight_likelihood
			research_leader = {
				area = physics
				has_trait = "leader_trait_expertise_computing"
			}
		}
		modifier = {
			factor = 0.5
			NOR = {
				is_ai = yes # AIs don't get the informative event that flags this
				has_country_flag = first_spynetwork
			}
		}
		modifier = {
			factor = 1.25
			years_passed > 100
		}
		modifier = {
			factor = 1.5
			years_passed > 125
		}
		modifier = {
			factor = 1.25
			has_tradition = tr_subterfuge_adopt
		}
	}

	ai_weight = {
		modifier = {
			factor = 1.25
			research_leader = {
				area = physics
				has_trait = "leader_trait_expertise_computing"
			}
		}
		modifier = {
			factor = 1.5
			years_passed > 75
		}
		modifier = {
			factor = 2
			years_passed > 100
		}
		modifier = {
			factor = 3
			years_passed > 125
		}	
	}
}
