# 阁员与领袖的视同等级
councilor_has_skill = {
	base = 0
	add = trigger:has_total_skill
	add = modifier:councilor_skill_add
}
ruler_has_skill = {
	base = 0
	add = trigger:has_total_skill
	add = modifier:councilor_skill_add
	add = modifier:ruler_skill_add
}

# 传统：外交网络提供额外特使数量
diplomatic_networking_mult = {
	base = 0
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				has_embassy = root
			}
		}
		mode = add
		mult = 1
	}
}

# 帝国行政中心发生恶性事件的概率权重：受稳定度与犯罪率影响
low_stability_event_factor = {
	base = 70
	subtract = trigger:planet_stability
	modifier = {
		set = 0
		planet_stability >= 50
	}
	divide = 20
}
high_crime_event_factor = {
	base = -10
	add = trigger:planet_crime
	modifier = {
		set = 0
		planet_crime <= 30
	}
	divide = 20
}

# 谍报行动：扰乱帝国治理2：提高反叛概率
disrupt_imperial_governance_2_rise_uprising_chance = {
	base = 1
	modifier = {
		add = 0.1
		check_variable = { which = disrupt_imperial_governance_2_counter value = 1 }
	}
	modifier = {
		add = 0.16
		check_variable = { which = disrupt_imperial_governance_2_counter value = 2 }
	}
	modifier = {
		add = 0.20
		check_variable = { which = disrupt_imperial_governance_2_counter value = 3 }
	}
	modifier = {
		add = 0.22
		check_variable = { which = disrupt_imperial_governance_2_counter value >= 4 }
	}
}
# 谍报行动：行省监察本轮掷骰的结果：提高则降低本轮监察无事发生的概率
espionage_operation_score = {
	base = 110
	add = trigger:is_espionage_operation_score
	max = 30
	min = 10
}
# 谍报行动：行省监察降低行省行政花费的效果：-25%~50%
provincial_administrative_supervision_effect = {
	base = 0
	add = trigger:is_spynetwork_level
	mult = -0.0025
	add = -0.25
}

# 繁星之乱：叛乱时逃离帝国海军的舰队比例
rebellion_destructed_armada_percentage = {
	base = 0.6
	# 帝国权威
	modifier = {
		mult = 1.1
		imperial_authority < 1
	}
	modifier = {
		mult = 1.1
		imperial_authority < 50
	}
	modifier = {
		mult = 1.1
		imperial_authority < 100
	}
	modifier = {
		mult = 0.9
		imperial_authority > 130
	}
	modifier = {
		mult = 0.9
		imperial_authority > 160
	}
	modifier = {
		mult = 0.9
		imperial_authority > 190
	}
	# 帝国治理状态
	modifier = {
		mult = 0.7
		has_modifier = province_modifier_situation_imperial_governance_solidary
	}
	modifier = {
		mult = 0.9
		has_modifier = province_modifier_situation_imperial_governance_authoritative
	}
	modifier = {
		mult = 1.1
		has_modifier = province_modifier_situation_imperial_governance_disorderly
	}
	modifier = {
		mult = 1.2
		has_modifier = province_modifier_situation_imperial_governance_incontrollable
	}
	# 帝国教育部
	modifier = {
		mult = 0.9
		is_active_resolution = resolution_emperor_imperial_ministry_of_education
	}
	modifier = {
		mult = 0.9
		galactic_emperor.federation = {
			has_federation_law = imperial_ministry_of_education_solidarity_movement
		}
	}
	modifier = {
		mult = 0.8
		galactic_emperor.federation = {
			has_federation_law = imperial_ministry_of_education_critical_view_of_history
		}
	}
	# 帝国国防部
	modifier = {
		mult = 0.9
		is_active_resolution = resolution_emperor_imperial_ministry_of_defence
	}
	modifier = {
		mult = 0.9
		galactic_emperor.federation = {
			has_federation_law = imperial_ministry_of_defence_strategy_institute
		}
	}
	modifier = {
		mult = 0.8
		galactic_emperor.federation = {
			has_federation_law = imperial_ministry_of_defence_joint_headquarter
		}
	}
	# 态度
	modifier = {
		mult = 1.2
		opinion_level = {
			who = galactic_emperor
			level = terrible
		}
	}
	modifier = {
		mult = 1.1
		opinion_level = {
			who = galactic_emperor
			level = poor
		}
	}
	modifier = {
		mult = 0.9
		opinion_level = {
			who = galactic_emperor
			level = excellent
		}
	}
	modifier = {
		mult = 0.8
		opinion_level = {
			who = galactic_emperor
			level = good
		}
	}

	max = 1
	min = 0
}
# 繁星之乱：选择宽恕叛军改善帝国治理（70以上改善到90，70以下改善20+差额的三分之一）
situation_imperial_governance_improve_civil_war_leniency_low = {
	base = 90
	subtract = trigger:situation_progress
}
situation_imperial_governance_improve_civil_war_leniency_high = {
	base = 70
	subtract = trigger:situation_progress
	divide = 3
	add = 20
}

# 近距离空中支援轨道轰炸：CD与伤害的计算
basic_max_combat_width = {
	base = 5
	complex_trigger_modifier = {
		trigger = planet_size
		mode = add
		mult = 0.2
	}
	ground = yes
}
cas_AA_rounds = {
	base = 0
	complex_trigger_modifier = {
		trigger = count_ground_combat_defender
		mode = add
	}
	min = 1
	max = root.max_combat_width
}
cas_AA_CD = {
	base = 10
	divide = value:cas_AA_rounds
	floor = yes
	add = 1
}
cas_AA_CD_mod = {
	base = 10
	divide = value:cas_AA_rounds
	modulo = 1
}
cas_AA_firepower = {
	base = 1
	add = modifier:army_damage_mult
	add = modifier:army_defense_damage_mult
	min = 0
	mult = 100
	mult = $ARMY$
}
cas_bombard_rounds = {
	base = 0.01
	mult = bombardment_fleet_size
	min = 0.5
	max = root.max_combat_width
	mult = 2
}
cas_bombard_CD = {
	base = 10
	divide = value:cas_bombard_rounds
	add = 1
}
cas_bombard_power = {
	base = 1
	add = modifier:ship_orbital_bombardment_mult
	add = modifier:ship_orbital_bombardment_army_damage_mult
	min = 0
	mult = 50
}


############################################################## 议案相关
# 通过的共同体议案数量：影响共同体特使技能的效果
passed_resolutions_commerce_industry = {
	base = 0
	modifier = { add = 1 is_active_resolution = resolution_mischief_1 }
	modifier = { add = 2 is_active_resolution = resolution_mischief_2 }
	modifier = { add = 3 is_active_resolution = resolution_mischief_3 }
	modifier = { add = 4 is_active_resolution = resolution_mischief_4 }
	modifier = { add = 5 is_active_resolution = resolution_mischief_5 }
	modifier = { add = 6 is_active_resolution = resolution_mischief_6 }
	modifier = { add = 1 is_active_resolution = resolution_megacorp_1 }
	modifier = { add = 2 is_active_resolution = resolution_megacorp_2 }
	modifier = { add = 3 is_active_resolution = resolution_megacorp_3 }
	modifier = { add = 4 is_active_resolution = resolution_megacorp_4 }
	modifier = { add = 5 is_active_resolution = resolution_megacorp_5 }
	modifier = { add = 6 is_active_resolution = resolution_megacorp_6 }
	mult = 0.5
	modifier = { add = 1 is_active_resolution = resolution_commerce_buzzword_standardization }
	modifier = { add = 2 is_active_resolution = resolution_commerce_leveraged_privateering }
	modifier = { add = 3 is_active_resolution = resolution_commerce_underdeveloped_system_utilization }
	modifier = { add = 4 is_active_resolution = resolution_commerce_holistic_asset_coordination }
	modifier = { add = 5 is_active_resolution = resolution_commerce_profit_maximization_engines }
	modifier = { add = 6 is_active_resolution = resolution_commerce_6 }
	modifier = { add = 1 is_active_resolution = resolution_industry_regulatory_facilitation }
	modifier = { add = 2 is_active_resolution = resolution_industry_collective_waste_management }
	modifier = { add = 3 is_active_resolution = resolution_industry_building_a_better_tomorrow }
	modifier = { add = 4 is_active_resolution = resolution_industry_environmental_ordinance_waivers }
	modifier = { add = 5 is_active_resolution = resolution_industry_project_cornucopia }
	modifier = { add = 6 is_active_resolution = resolution_industry_6 }
	modifier = { add = 1 is_active_resolution = resolution_galactic_market_ban_sentient_organic_slave_trade }
	modifier = { add = 1 is_active_resolution = resolution_galactic_market_ban_sentient_slave_trade }
}
passed_resolutions_politics_culture = {
	base = 0
	modifier = { add = 1 is_active_resolution = resolution_intercultural_exchange }
	modifier = { add = 2 is_active_resolution = resolution_strength_in_diversity }
	modifier = { add = 3 is_active_resolution = resolution_charter_of_sentient_rights }
	modifier = { add = 4 is_active_resolution = resolution_stellar_diplomatic_forums }
	modifier = { add = 5 is_active_resolution = resolution_prime_directive }
	modifier = { add = 6 is_active_resolution = resolution_galactic_cooperation_initiative }
	modifier = { add = 1 is_active_resolution = resolution_guarded_sovereignty }
	modifier = { add = 2 is_active_resolution = resolution_homogenous_state }
	modifier = { add = 3 is_active_resolution = resolution_justified_suspicion }
	modifier = { add = 4 is_active_resolution = resolution_national_purity }
	modifier = { add = 5 is_active_resolution = resolution_cooperation_discouraged }
	modifier = { add = 6 is_active_resolution = resolution_closed_society }
	modifier = { add = 1 is_active_resolution = resolution_enlightened_despotism }
	modifier = { add = 2 is_active_resolution = resolution_a_proper_place }
	modifier = { add = 3 is_active_resolution = resolution_natural_hierarchy }
	modifier = { add = 4 is_active_resolution = resolution_superior_deference }
	modifier = { add = 5 is_active_resolution = resolution_a_whiff_of_grapeshot }
	modifier = { add = 6 is_active_resolution = resolution_let_them_eat_cake }
	modifier = { add = 1 is_active_resolution = resolution_networked_junctions }
	modifier = { add = 2 is_active_resolution = resolution_one_mind }
	modifier = { add = 3 is_active_resolution = resolution_cerebral_coalescence }
	modifier = { add = 4 is_active_resolution = resolution_perfect_panopticon }
	modifier = { add = 5 is_active_resolution = resolution_absolute_control }
	modifier = { add = 6 is_active_resolution = resolution_obsolete_individualism }
	modifier = { add = 1 is_active_resolution = resolution_lawandorder_domestic_security }
	modifier = { add = 2 is_active_resolution = resolution_lawandorder_right_to_work }
	modifier = { add = 3 is_active_resolution = resolution_lawandorder_administrative_subsidies }
	modifier = { add = 4 is_active_resolution = resolution_lawandorder_free_migration }
	modifier = { add = 5 is_active_resolution = resolution_lawandorder_informed_governance }
	modifier = { add = 1 is_active_resolution = resolution_galacticcooperation_mutual_assistance }
	modifier = { add = 2 is_active_resolution = resolution_galacticcooperation_pan_galactic_migration }
	modifier = { add = 3 is_active_resolution = resolution_galacticcooperation_interstellar_mediation }
	modifier = { add = 4 is_active_resolution = resolution_galacticcooperation_indigenous_protection_protocols }
	modifier = { add = 5 is_active_resolution = resolution_galacticcooperation_sanctity_of_life }
	modifier = { add = 1 is_active_resolution = resolution_ascension_cyborg }
	modifier = { add = 1 is_active_resolution = resolution_ascension_psionic }
	modifier = { add = 1 is_active_resolution = resolution_ascension_genetic }
	mult = 0.25
	modifier = { add = 1 is_active_resolution = resolution_greatergood_workers_rights }
	modifier = { add = 2 is_active_resolution = resolution_greatergood_five_year_plans }
	modifier = { add = 3 is_active_resolution = resolution_greatergood_greater_than_ourselves }
	modifier = { add = 4 is_active_resolution = resolution_greatergood_balance_in_the_middle }
	modifier = { add = 5 is_active_resolution = resolution_greatergood_universal_prosperity_mandate }
	modifier = { add = 6 is_active_resolution = resolution_greatergood_6 }
	modifier = { add = 1 is_active_resolution = resolution_community_champions }
	modifier = { add = 1 is_active_resolution = resolution_constitutional_immunity }
	#modifier = { add = 1 is_active_resolution = resolution_customs_treaty }
	modifier = { add = 1 is_active_resolution = resolution_customs_treaty }
	modifier = { add = 1 is_active_resolution = resolution_form_galactic_lower_house }
	modifier = { add = 1 is_active_resolution = resolution_galactic_threats_committee }
}
passed_resolutions_environment_technology = {
	base = 0
	modifier = { add = 1 is_active_resolution = resolution_discovery_archeology_1 }
	modifier = { add = 2 is_active_resolution = resolution_discovery_archeology_2 }
	modifier = { add = 3 is_active_resolution = resolution_discovery_archeology_3 }
	modifier = { add = 4 is_active_resolution = resolution_discovery_archeology_4 }
	modifier = { add = 5 is_active_resolution = resolution_discovery_archeology_5 }
	modifier = { add = 6 is_active_resolution = resolution_discovery_archeology_6 }
	modifier = { add = 1 is_active_resolution = resolution_healthcare_1 }
	modifier = { add = 2 is_active_resolution = resolution_healthcare_2 }
	modifier = { add = 3 is_active_resolution = resolution_healthcare_3 }
	modifier = { add = 4 is_active_resolution = resolution_healthcare_4 }
	modifier = { add = 5 is_active_resolution = resolution_healthcare_5 }
	modifier = { add = 6 is_active_resolution = resolution_healthcare_6 }
	modifier = { add = 1 is_active_resolution = resolution_gce_crystalline }
	modifier = { add = 1 is_active_resolution = resolution_galactic_population_controls }
	modifier = { add = 1 is_active_resolution = resolution_healthcare_board_of_health }
	modifier = { add = 2 is_active_resolution = resolution_healthcare_xenomedical_research }
	modifier = { add = 3 is_active_resolution = resolution_healthcare_war_relief }
	modifier = { add = 4 is_active_resolution = resolution_healthcare_clonal_medicine }
	modifier = { add = 5 is_active_resolution = resolution_healthcare_universal_healthcare }
	mult = 0.5
	modifier = { add = 1 is_active_resolution = resolution_ecology_recycling_initiatives }
	modifier = { add = 2 is_active_resolution = resolution_ecology_natural_sanctuaries }
	modifier = { add = 3 is_active_resolution = resolution_ecology_integrated_gardens }
	modifier = { add = 4 is_active_resolution = resolution_ecology_environmental_control_board }
	modifier = { add = 5 is_active_resolution = resolution_ecology_paradise_initiative }
	modifier = { add = 6 is_active_resolution = resolution_ecology_6 }
	modifier = { add = 1 is_active_resolution = resolution_galacticstudies_cooperative_research_channels }
	modifier = { add = 2 is_active_resolution = resolution_galacticstudies_astral_studies_network }
	modifier = { add = 3 is_active_resolution = resolution_galacticstudies_advanced_xenostudies }
	modifier = { add = 4 is_active_resolution = resolution_galacticstudies_ethical_guideline_refactoring }
	modifier = { add = 5 is_active_resolution = resolution_galacticstudies_extradimensional_experimentation }
	modifier = { add = 6 is_active_resolution = resolution_galacticstudies_6 }
	modifier = { add = 1 is_active_resolution = resolution_divinity_comfort_the_fallen }
	modifier = { add = 2 is_active_resolution = resolution_divinity_tithe_on_the_soulless }
	modifier = { add = 3 is_active_resolution = resolution_divinity_right_to_work }
	modifier = { add = 4 is_active_resolution = resolution_divinity_silence_the_soulless }
	modifier = { add = 5 is_active_resolution = resolution_divinity_a_defined_purpose }
	modifier = { add = 6 is_active_resolution = resolution_divinity_crusade_against_the_heretic }
	modifier = { add = 1 is_active_resolution = resolution_tiyanki_pest_control }
	modifier = { add = 1 is_active_resolution = resolution_tiyanki_conservation_act }
	modifier = { add = 1 is_active_resolution = resolution_amoeba_conservation_act }
	modifier = { add = 1 is_active_resolution = resolution_customs_treaty }
	modifier = { add = 1 is_active_resolution = resolution_form_galactic_lower_house }
	modifier = { add = 1 is_active_resolution = resolution_galactic_threats_committee }
	modifier = { add = 1 is_active_resolution = resolution_cosmic_storms_shared_knowledge }
	modifier = { add = 2 is_active_resolution = resolution_cosmic_storms_protection_initiative }
	modifier = { add = 3 is_active_resolution = resolution_cosmic_storms_galactic_management }
	modifier = { add = 4 is_active_resolution = resolution_cosmic_storms_utilization_protocols }
	modifier = { add = 5 is_active_resolution = resolution_cosmic_storms_manipulation_mandate }
	modifier = { add = 1 is_active_resolution = resolution_cosmic_storms_advanced_storm_studies }
	modifier = { add = 2 is_active_resolution = resolution_cosmic_storms_galactic_emergency_relief }
	modifier = { add = 3 is_active_resolution = resolution_cosmic_storms_storm_encouragement_mandate }
	modifier = { add = 4 is_active_resolution = resolution_cosmic_storms_control_restrictions }
	modifier = { add = 5 is_active_resolution = resolution_cosmic_storms_preservation_initiative }
}
passed_resolutions_defense_war = {
	base = 0
	modifier = { add = 1 is_active_resolution = resolution_protect_neutrals }
	mult = 0.5
	modifier = { add = 1 is_active_resolution = resolution_mutualdefense_the_readied_shield }
	modifier = { add = 2 is_active_resolution = resolution_mutualdefense_military_readiness_act }
	modifier = { add = 3 is_active_resolution = resolution_mutualdefense_enemy_of_my_enemy }
	modifier = { add = 4 is_active_resolution = resolution_mutualdefense_castigation_proclamation }
	modifier = { add = 5 is_active_resolution = resolution_mutualdefense_renegade_containment }
	modifier = { add = 6 is_active_resolution = resolution_mutualdefense_6 }
	modifier = { add = 1 is_active_resolution = resolution_rulesofwar_guardian_angels }
	modifier = { add = 2 is_active_resolution = resolution_rulesofwar_reverence_for_life }
	modifier = { add = 3 is_active_resolution = resolution_rulesofwar_independent_tribunals }
	modifier = { add = 4 is_active_resolution = resolution_rulesofwar_last_resort_doctrine }
	modifier = { add = 5 is_active_resolution = resolution_rulesofwar_demobilization_initiative }
	modifier = { add = 6 is_active_resolution = resolution_rulesofwar_6 }
	modifier = { add = 1 is_active_resolution = resolution_defenseprivatization_defense_contracts }
	modifier = { add = 2 is_active_resolution = resolution_defenseprivatization_private_support_troops }
	modifier = { add = 3 is_active_resolution = resolution_defenseprivatization_condottieri }
	modifier = { add = 4 is_active_resolution = resolution_defenseprivatization_security_business }
	modifier = { add = 5 is_active_resolution = resolution_defenseprivatization_corporate_warlords }
	modifier = { add = 1 is_active_resolution = resolution_declare_crisis }
	modifier = { add = 1 is_active_resolution = resolution_declare_crisis_empire }
}
passed_resolutions_custodianship_galactic_empire = {
	base = 0
	modifier = { add = 1 is_active_resolution = resolution_custodian_emergency_powers }
	modifier = { add = 1 is_active_resolution = resolution_universal_rights }
	modifier = { add = 1 is_active_resolution = resolution_republic_legions }
	modifier = { add = 1 is_active_resolution = resolution_galactic_republic }
	modifier = { add = 1 is_active_resolution = resolution_custodian_form_republic }
	modifier = { add = 1 is_active_resolution = resolution_custodian_form_empire }
	modifier = { add = 1 is_active_resolution = resolution_custodian_expand_galpol }
	modifier = { add = 1 is_active_resolution = resolution_republic_science_academy }
	modifier = { add = 1 is_active_resolution = resolution_republic_imperial_legions }
	modifier = { add = 1 is_active_resolution = resolution_galactic_republic_induct_empire }
	modifier = { add = 1 is_active_resolution = resolution_republic_united_front }
	modifier = { add = 1 is_active_resolution = resolution_empire_anti_piracy }
	modifier = { add = 1 is_active_resolution = resolution_republic_form_empire }
	modifier = { add = 1 is_active_resolution = resolution_empire_science_academy }
	modifier = { add = 1 is_active_resolution = resolution_grand_custodianship_delcaration }
	modifier = { add = 1 is_active_resolution = resolution_military_readiness_preparation_minor }
	modifier = { add = 2 is_active_resolution = resolution_military_readiness_preparation_major }
	modifier = { add = 1 is_active_resolution = resolution_military_readiness_preparation_minor_imperium }
	modifier = { add = 2 is_active_resolution = resolution_military_readiness_preparation_major_imperium }
	modifier = { add = 1 is_active_resolution = resolution_galactic_xenophobe_rights_minor }
	modifier = { add = 1 is_active_resolution = resolution_galactic_xenophile_rights_minor }
	modifier = { add = 2 is_active_resolution = resolution_galactic_xenophobe_rights_major }
	modifier = { add = 2 is_active_resolution = resolution_galactic_xenophile_rights_major }
	modifier = { add = 3 is_active_resolution = resolution_galactic_xenophobe_rights_super_major }
	modifier = { add = 3 is_active_resolution = resolution_galactic_xenophile_rights_super_major }
	modifier = { add = 1 is_active_resolution = resolution_galactic_xenophobe_rights_minor_imperium }
	modifier = { add = 1 is_active_resolution = resolution_galactic_xenophile_rights_minor_imperium }
	modifier = { add = 2 is_active_resolution = resolution_galactic_xenophobe_rights_major_imperium }
	modifier = { add = 2 is_active_resolution = resolution_galactic_xenophile_rights_major_imperium }
	modifier = { add = 3 is_active_resolution = resolution_galactic_xenophobe_rights_super_major_imperium }
	modifier = { add = 3 is_active_resolution = resolution_galactic_xenophile_rights_super_major_imperium }
	modifier = { add = 1 is_active_resolution = resolution_galactic_economic_advancements_minor }
	modifier = { add = 2 is_active_resolution = resolution_galactic_economic_advancements_major }
	modifier = { add = 1 is_active_resolution = resolution_galactic_economic_advancements_minor_imperium }
	modifier = { add = 2 is_active_resolution = resolution_galactic_economic_advancements_major_imperium }
	modifier = { add = 1 is_active_resolution = resolution_Empyreal_Travel }
	modifier = { add = 1 is_active_resolution = resolution_Virulent_biolab }
	modifier = { add = 1 is_active_resolution = resolution_Tyanki_Incubation }
	modifier = { add = 1 is_active_resolution = resolution_engineer_concessions }
	modifier = { add = 1 is_active_resolution = resolution_throne_world_jewel }
	modifier = { add = 1 is_active_resolution = resolution_insane_engineers_1 }
	modifier = { add = 2 is_active_resolution = resolution_insane_engineers_2 }
	modifier = { add = 3 is_active_resolution = resolution_insane_engineers_3 }
	modifier = { add = 1 is_active_resolution = resolution_emperor_leading_to_authoritarian }
	modifier = { add = 1 is_active_resolution = resolution_emperor_leading_to_egalitarian }
	modifier = { add = 1 is_active_resolution = resolution_emperor_leading_to_xenophobe }
	modifier = { add = 1 is_active_resolution = resolution_emperor_leading_to_xenophile }
	modifier = { add = 1 is_active_resolution = resolution_emperor_leading_to_militarist }
	modifier = { add = 1 is_active_resolution = resolution_emperor_leading_to_pacifist }
	modifier = { add = 1 is_active_resolution = resolution_emperor_leading_to_spiritualist }
	modifier = { add = 1 is_active_resolution = resolution_emperor_leading_to_materialist }
	modifier = { add = 1 is_active_resolution = resolution_emperor_leading_to_capitalism }
	modifier = { add = 1 is_active_resolution = resolution_emperor_leading_to_socialism }
	mult = 0.5
	modifier = { add = 1 is_active_resolution = resolution_custodian_extend_custodianship }
	modifier = { add = 1 is_active_resolution = resolution_custodian_perpetual_custodianship }
	modifier = { add = 1 is_active_resolution = resolution_custodian_united_front }
	modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_mobilization }
	modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_standard }
	modifier = { add = 1 is_active_resolution = resolution_custodian_science_cooperation_initiative }
	modifier = { add = 1 is_active_resolution = resolution_custodian_assist_the_developing_countries }
	modifier = { add = 1 is_active_resolution = resolution_custodian_pioneering_movement }
	modifier = { add = 1 is_active_resolution = resolution_custodian_crack_down_on_criminal_syndicate }
	modifier = { add = 1 is_active_resolution = resolution_custodian_anti_piracy }
	modifier = { add = 1 is_active_resolution = resolution_custodian_webway_project }
	modifier = { add = 1 is_active_resolution = resolution_custodian_freedom_of_thought }
	modifier = { add = 1 is_active_resolution = resolution_custodian_peace_windows_project }
	modifier = { add = 1 is_active_resolution = resolution_custodian_establish_the_galactic_confederation }
	modifier = { add = 1 is_active_resolution = resolution_custodian_ina }
	modifier = { add = 1 is_active_resolution = resolution_custodian_gto }
	modifier = { add = 1 is_active_resolution = resolution_custodian_galpol }
	modifier = { add = 1 is_active_resolution = resolution_custodian_gdf }
	modifier = { add = 1 is_active_resolution = resolution_custodian_expand_gdf }
	modifier = { add = 1 is_active_resolution = resolution_custodian_expand_gdf_3 }
	modifier = { add = 1 is_active_resolution = resolution_custodian_expand_gdf_4 }
	modifier = { add = 1 is_active_resolution = resolution_custodian_expand_gdf_5 }
	modifier = { add = 1 is_active_resolution = resolution_custodian_expand_gdf_6 }
	modifier = { add = 1 is_active_resolution = resolution_custodian_expand_gdf_7 }
	modifier = { add = 1 is_active_resolution = resolution_custodian_expand_gdf_8 }
	modifier = { add = 1 is_active_resolution = resolution_custodian_expand_gdf_9 }
	modifier = { add = 1 is_active_resolution = resolution_custodian_expand_gdf_10 }
	modifier = { add = 1 is_active_resolution = resolution_emperor_expand_power_of_council }
	modifier = { add = 1 is_active_resolution = resolution_emperor_council_inspectorate }
	modifier = { add = 1 is_active_resolution = resolution_emperor_by_appointment }
	modifier = { add = 1 is_active_resolution = resolution_emperor_trial_of_advancement }
	modifier = { add = 1 is_active_resolution = resolution_emperor_permanent_seat }
	modifier = { add = 1 is_active_resolution = resolution_galactic_empire_imperial_crusade }
	modifier = { add = 1 is_active_resolution = resolution_emperor_clean_up_ancient_threats }
	modifier = { add = 1 is_active_resolution = resolution_emperor_united_front }
	modifier = { add = 1 is_active_resolution = resolution_emperor_galactic_mobilization }
	modifier = { add = 1 is_active_resolution = resolution_galactic_empire_imperial_crusade_MECR }
	modifier = { add = 1 is_active_resolution = resolution_emperor_galactic_standard }
	modifier = { add = 1 is_active_resolution = resolution_emperor_standardizing_weights_and_measures }
	modifier = { add = 1 is_active_resolution = resolution_emperor_webway_project }
	modifier = { add = 1 is_active_resolution = resolution_emperor_light_the_astronomican }
	modifier = { add = 1 is_active_resolution = resolution_emperor_reduce_government_agencies }
	modifier = { add = 1 is_active_resolution = resolution_emperor_expand_government_agencies }
	modifier = { add = 1 is_active_resolution = resolution_emperor_pax_galactica }
	modifier = { add = 1 is_active_resolution = resolution_emperor_the_step_towards_a_united_galaxy }
	modifier = { add = 1 is_active_resolution = resolution_emperor_imperial_unification }
	modifier = { add = 1 is_active_resolution = resolution_emperor_imperial_bank }
	modifier = { add = 1 is_active_resolution = resolution_emperor_isd }
	modifier = { add = 1 is_active_resolution = resolution_emperor_imperial_academy_of_sciences }
	modifier = { add = 1 is_active_resolution = resolution_emperor_imperial_department_of_engineering }
	modifier = { add = 1 is_active_resolution = resolution_emperor_imperial_ministry_of_education }
	modifier = { add = 1 is_active_resolution = resolution_emperor_imperial_ministry_of_defence }
	modifier = { add = 1 is_active_resolution = resolution_emperor_ina }
	modifier = { add = 1 is_active_resolution = resolution_emperor_gto }
	modifier = { add = 1 is_active_resolution = resolution_emperor_imperial_armada }
	modifier = { add = 1 is_active_resolution = resolution_emperor_expand_ia }
	modifier = { add = 1 is_active_resolution = resolution_emperor_expand_ia_3 }
	modifier = { add = 1 is_active_resolution = resolution_emperor_expand_ia_4 }
	modifier = { add = 1 is_active_resolution = resolution_emperor_expand_ia_5 }
	modifier = { add = 1 is_active_resolution = resolution_emperor_expand_ia_6 }
	modifier = { add = 1 is_active_resolution = resolution_emperor_expand_ia_7 }
	modifier = { add = 1 is_active_resolution = resolution_emperor_expand_ia_8 }
	modifier = { add = 1 is_active_resolution = resolution_emperor_expand_ia_9 }
	modifier = { add = 1 is_active_resolution = resolution_emperor_expand_ia_10 }
	modifier = { add = 1 is_active_resolution = resolution_emperor_imperial_legions }
	modifier = { add = 1 is_active_resolution = resolution_emperor_imperial_legions_extensive_recruitment }
	modifier = { add = 1 is_active_resolution = resolution_emperor_galactic_monitoring_network }
	modifier = { add = 1 is_active_resolution = resolution_emperor_imperial_charter }
	modifier = { add = 1 is_active_resolution = resolution_ia_service_exemption }
	modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_development_bank }
	modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_academy_of_sciences }
	modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_defense_committee }
	modifier = { add = 1 is_active_resolution = resolution_custodian_confed_galpol }
	modifier = { add = 1 is_active_resolution = resolution_custodian_confed_upgrade_galpol }
	modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_department_of_exploit }
	modifier = { add = 1 is_active_resolution = resolution_custodian_upgrade_galactic_department_of_exploit }
	modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_department_of_engineering }
	modifier = { add = 1 is_active_resolution = resolution_custodian_upgrade_galactic_department_of_engineering }
}

# 帝国军团各个兵种的容量
imperial_legion_cap = { # 帝国军团容量
	base = 0
	modifier = {
		add = 8
		has_galactic_emperor = yes
		galactic_emperor = {
			is_regular_empire = yes
			is_individual_machine = no
		}
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_regular_empire = yes
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_regular_empire = yes
				count_owned_pop_amount = { count >= 50000 }
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_regular_empire = yes
				count_owned_pop_amount = { count >= 100000 }
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_regular_empire = yes
				count_owned_pop_amount = { count >= 150000 }
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_regular_empire = yes
				count_owned_pop_amount = { count >= 200000 }
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_regular_empire = yes
				count_owned_pop_amount = { count >= 250000 }
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_regular_empire = yes
				count_owned_pop_amount = { count >= 300000 }
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_regular_empire = yes
				count_owned_pop_amount = { count >= 350000 }
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_regular_empire = yes
				count_owned_pop_amount = { count >= 400000 }
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_regular_empire = yes
				count_owned_pop_amount = { count >= 450000 }
			}
		}
		mode = add
		mult = 1
	}
	add = galactic_emperor.imperial_legion_additional #来自建筑的额外容量
}
imperial_mega_warform_cap = { # 帝国战体容量
	base = 0
	modifier = {
		add = 4
		has_galactic_emperor = yes
		galactic_emperor = {
			is_gestalt_or_individual_machine_empire = yes
		}
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_gestalt_or_individual_machine_empire = yes
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_gestalt_or_individual_machine_empire = yes
				count_owned_pop_amount = { count >= 100000 }
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_gestalt_or_individual_machine_empire = yes
				count_owned_pop_amount = { count >= 200000 }
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_gestalt_or_individual_machine_empire = yes
				count_owned_pop_amount = { count >= 300000 }
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_gestalt_or_individual_machine_empire = yes
				count_owned_pop_amount = { count >= 400000 }
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_gestalt_or_individual_machine_empire = yes
				count_owned_pop_amount = { count >= 500000 }
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_gestalt_or_individual_machine_empire = yes
				count_owned_pop_amount = { count >= 600000 }
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_gestalt_or_individual_machine_empire = yes
				count_owned_pop_amount = { count >= 700000 }
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_gestalt_or_individual_machine_empire = yes
				count_owned_pop_amount = { count >= 800000 }
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_gestalt_or_individual_machine_empire = yes
				count_owned_pop_amount = { count >= 900000 }
			}
		}
		mode = add
		mult = 1
	}
	add = galactic_emperor.imperial_mega_warform_additional #来自建筑的额外容量
}
imperial_warrior_drones_cap = { # 帝国兵蜂容量
	base = 0
	modifier = {
		add = 8
		has_galactic_emperor = yes
		galactic_emperor = {
			is_hive_empire = yes
		}
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_hive_empire = yes
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_hive_empire = yes
				count_owned_pop_amount = { count >= 50000 }
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_hive_empire = yes
				count_owned_pop_amount = { count >= 100000 }
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_hive_empire = yes
				count_owned_pop_amount = { count >= 150000 }
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_hive_empire = yes
				count_owned_pop_amount = { count >= 200000 }
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_hive_empire = yes
				count_owned_pop_amount = { count >= 250000 }
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_hive_empire = yes
				count_owned_pop_amount = { count >= 300000 }
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_hive_empire = yes
				count_owned_pop_amount = { count >= 350000 }
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_hive_empire = yes
				count_owned_pop_amount = { count >= 400000 }
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_hive_empire = yes
				count_owned_pop_amount = { count >= 450000 }
			}
		}
		mode = add
		mult = 1
	}
	add = galactic_emperor.imperial_warrior_drones_additional #来自建筑的额外容量
}
imperial_legion_oversize = {
	base = 1
	multiply = galactic_emperor.imperial_legion_soldier_count
	divide = galactic_emperor.var_imperial_legion_cap
	min = 1
	pow = 2
}
imperial_mega_warform_oversize = {
	base = 1
	multiply = galactic_emperor.imperial_legion_soldier_count_mega_warform
	divide = galactic_emperor.var_imperial_mega_warform_cap
	min = 1
	pow = 2
}
imperial_warrior_drones_oversize = {
	base = 1
	multiply = galactic_emperor.imperial_legion_soldier_count_warrior_drones
	divide = galactic_emperor.var_imperial_warrior_drones_cap
	min = 1
	pow = 2
}

# 已经激活的战争命令数量
activated_war_orders = {
	base = 0
	modifier = {
		add = 1
		is_active_resolution = resolution_galactic_focus_war_order_industrial_mobilization
	}
	modifier = {
		add = 1
		is_active_resolution = resolution_galactic_focus_war_order_build_fleet
	}
	modifier = {
		add = 1
		is_active_resolution = resolution_galactic_focus_war_order_devastating_blow
	}
	modifier = {
		add = 1
		is_active_resolution = resolution_galactic_focus_war_order_planetary_defense
	}
}

# GDF如果是独立状态，应该获得的舰容份量		mult = 400
gdf_country_naval_cap_amount = {
	base = 1
	modifier = {
		add = 1
		is_active_resolution = "resolution_custodian_expand_gdf"
	}
	modifier = {
		add = 1
		is_active_resolution = "resolution_custodian_expand_gdf_3"
	}
	modifier = {
		add = 1
		is_active_resolution = "resolution_custodian_expand_gdf_4"
	}
	modifier = {
		add = 1
		is_active_resolution = "resolution_custodian_expand_gdf_5"
	}
	modifier = {
		add = 1
		is_active_resolution = "resolution_custodian_expand_gdf_6"
	}
	modifier = {
		add = 1
		is_active_resolution = "resolution_custodian_expand_gdf_7"
	}
	modifier = {
		add = 1
		is_active_resolution = "resolution_custodian_expand_gdf_8"
	}
	modifier = {
		add = 1
		is_active_resolution = "resolution_custodian_expand_gdf_9"
	}
	modifier = {
		add = 1
		is_active_resolution = "resolution_custodian_expand_gdf_10"
	}
	modifier = {
		mult = 1.1
		any_federation = { has_federation_law = fleet_contribution_low_confederation }
	}
	modifier = {
		mult = 1.2
		any_federation = { has_federation_law = fleet_contribution_medium_confederation }
	}
	modifier = {
		mult = 1.4
		any_federation = { has_federation_law = fleet_contribution_high_confederation }
	}
	modifier = {
		mult = 1.1
		any_federation = { has_federation_law = fleet_contribution_very_high_confederation }
	}
	modifier = {
		mult = 1.5
		any_federation = { has_federation_law = fleet_contribution_combined_fleet_confederation }
	}
}


############################################################## 帝国联邦相关
# 对于损害联邦的法律提议，根据联邦团结度生成同意度反向补正
fedcoh_neg_modifier = {
	base = 0
	add = federation.trigger:federation_cohesion
	modifier = {
		mult = -0.5
	}
	round = yes
}
fedcoh_equ_modifier = {
	base = 0
	add = federation.trigger:federation_cohesion
	modifier = {
		mult = -0.25
	}
	round = yes
}

# 加帝国行省立即转化专业化修正时，确保倍率永远为-99%，避免减到负数
imperial_province_specialisation_instant_param = {
	base = -0.99
	subtract = modifier:specialist_subject_conversion_time_mult
}

# 帝国舰队征召
ia_transfer_percent = { # 征召的舰容的百分比
	base = 0
	modifier = {
		add = 0.15
		has_federation = yes
		federation = { has_federation_law = imperial_armada_conscription_low }
	}
	modifier = {
		add = 0.30
		has_federation = yes
		federation = { has_federation_law = imperial_armada_conscription_mid }
	}
	modifier = {
		add = 0.45
		has_federation = yes
		federation = { has_federation_law = imperial_armada_conscription_high }
	}
	modifier = {
		mult = 1.25
		is_imperial_province = yes
	}
	modifier = {
		mult = 0
		has_country_flag = flag_ia_service_exemption
	}
}
IACount_transfer_to_ia_percent_modifier = { # 帝国舰队征召花费的自身份额的减免率
	base = 1
	#戍邦特化型-25%
	modifier = {
		add = -0.25
		is_imperial_province = yes
		any_agreement = { has_active_specialization = specialist_bulwark }
	}
	#联邦代表特质-5%~15%
	modifier = {
		add = -0.05
		any_owned_leader = {
			is_assigned_to_federation = yes
			has_trait = leader_trait_federal_joint_navy
		}
	}
	modifier = {
		add = -0.10
		any_owned_leader = {
			is_assigned_to_federation = yes
			has_trait = leader_trait_federal_joint_navy_2
		}
	}
	modifier = {
		add = -0.15
		any_owned_leader = {
			is_assigned_to_federation = yes
			has_trait = leader_trait_federal_joint_navy_3
		}
	}
	min = 0.1
}
imperial_governance_usage_naval_mult = {	# 每舰容帝国舰队消耗的帝国治理能力
	base = 1
	modifier = {
		add = -0.1
		galactic_emperor = {
			any_owned_leader = {
				is_assigned_to_galcom_any_job = yes
				has_trait = leader_trait_armada_coordinator
			}
		}
	}
	modifier = {
		add = -0.2
		galactic_emperor = {
			any_owned_leader = {
				is_assigned_to_galcom_any_job = yes
				has_trait = leader_trait_armada_coordinator_2
			}
		}
	}
	modifier = {
		add = -0.3
		galactic_emperor = {
			any_owned_leader = {
				is_assigned_to_galcom_any_job = yes
				has_trait = leader_trait_armada_coordinator_3
			}
		}
	}
}

# 帝国机构总等级
imperial_institutions_upgrades_used = { 
	modifier = { add = 1 has_federation_law = imperial_bank_supervision }
	modifier = { add = 2 has_federation_law = imperial_bank_administration }
	modifier = { add = 3 has_federation_law = imperial_bank_control }

	modifier = { add = 1 has_federation_law = isd_political_police }
	modifier = { add = 2 has_federation_law = isd_public_police }
	modifier = { add = 3 has_federation_law = isd_peoples_police }

	modifier = { add = 1 has_federation_law = imperial_academy_of_sciences_talent_concentration }
	modifier = { add = 2 has_federation_law = imperial_academy_of_sciences_research_integration }
	modifier = { add = 3 has_federation_law = imperial_academy_of_sciences_technical_unification }

	modifier = { add = 1 has_federation_law = imperial_department_of_engineering_standardized_construction }
	modifier = { add = 2 has_federation_law = imperial_department_of_engineering_personnel_coordination }
	modifier = { add = 3 has_federation_law = imperial_department_of_engineering_project_new_world }

	modifier = { add = 1 has_federation_law = imperial_ministry_of_education_science_education_reforming }
	modifier = { add = 2 has_federation_law = imperial_ministry_of_education_solidarity_movement }
	modifier = { add = 3 has_federation_law = imperial_ministry_of_education_critical_view_of_history }

	modifier = { add = 1 has_federation_law = imperial_ministry_of_defence_executive_office }
	modifier = { add = 2 has_federation_law = imperial_ministry_of_defence_strategy_institute }
	modifier = { add = 3 has_federation_law = imperial_ministry_of_defence_joint_headquarter }
}
# 帝国工程署2级：计算可以外借的巨构建造能力
idoe2_free_megaconstructing_slot = {
	base = 1
	add = modifier:country_megastructure_build_cap_add
	complex_trigger_modifier = {
		trigger = count_owned_megastructure
		parameters = {
			limit = {
				is_upgrading = yes
				NOR = {
					is_megastructure_type = gateway_0
					is_megastructure_type = gateway_ruined
					is_megastructure_type = gateway_ness_ruined
					is_megastructure_type = hyper_relay_ruined
					is_megastructure_type = orbital_ring_ruined
					is_megastructure_type = orbital_arc_furnace_1
					is_megastructure_type = orbital_arc_furnace_2
					is_megastructure_type = orbital_arc_furnace_3
					is_megastructure_type = orbital_arc_furnace_destroyed
					is_megastructure_type = dyson_swarm_1
					is_megastructure_type = dyson_swarm_2
					is_megastructure_type = behemoth_egg
					is_megastructure_type = behemoth_fleet_egg
					is_megastructure_type = behemoth_chrysalis
					is_megastructure_type = behemoth_chrysalis_big
					is_megastructure_type = habitat_central_complex_ruined
					AND = { # gigastructures
						has_global_flag = gigastructures_enabled
						OR = {
							is_megastructure_type = giga_hyper_relay_ai_site
							is_megastructure_type = orbital_elysium_origin_platform_1
							is_megastructure_type = asteroid_artillery_0
							is_megastructure_type = asteroid_artillery_config
							is_megastructure_type = asteroid_artillery_repaired
							is_megastructure_type = asteroid_artillery_1
							is_megastructure_type = asteroid_artillery_ruined
							is_megastructure_type = atmosphere_shredder_0
							is_megastructure_type = atmosphere_shredder_1
							is_megastructure_type = atmosphere_shredder_2
							is_megastructure_type = atmosphere_shredder_ruined
							is_megastructure_type = automated_stripmine_0
							is_megastructure_type = crystal_megabore_0
							is_megastructure_type = kugelblitz_0
							is_megastructure_type = kugelblitz_restored
							is_megastructure_type = kugelblitz_ruined
							is_megastructure_type = macro_test_site_0
							is_megastructure_type = macro_test_site_1
							is_megastructure_type = macro_test_site_2
							is_megastructure_type = macro_test_site_ruined
							is_megastructure_type = orbital_artificial_eco_0
							is_megastructure_type = orbital_artificial_eco_1
							is_megastructure_type = orbital_artificial_eco_2
							is_megastructure_type = orbital_artificial_eco_ruined
							is_megastructure_type = succ_0
							is_megastructure_type = anti_sirens_shield
							is_megastructure_type = orbital_arcology_0
							is_megastructure_type = orbital_arcology_1
							is_megastructure_type = orbital_arcology_2
							is_megastructure_type = stellar_ring_habitat_0
							is_megastructure_type = stellar_ring_habitat_1
							is_megastructure_type = giga_titan_ruined
							is_megastructure_type = giga_juggernaut_ruined
							is_megastructure_type = giga_battleship_ruined
							is_megastructure_type = giga_colossus_ruined
							is_megastructure_type = ehof_pgate_unknown
						}
					}
					AND = { # age of wonder
						has_global_flag = AOW_installed
						OR = {
							is_megastructure_type = AOW_MEGA_resource_drilling_station_0
							is_megastructure_type = AOW_MEGA_advanced_hyperlane_controller
							is_megastructure_type = AOW_MEGA_advanced_hyperlane_controller_standby
							is_megastructure_type = AOW_MEGA_advanced_hyperlane_controller_active
							is_megastructure_type = AOW_MEGA_dyson_swarm_1_hyper
							is_megastructure_type = AOW_MEGA_dyson_swarm_1_super
							is_megastructure_type = AOW_MEGA_dyson_swarm_1_giant
							is_megastructure_type = AOW_MEGA_dyson_swarm_1_o
							is_megastructure_type = AOW_MEGA_dyson_swarm_1_b
							is_megastructure_type = AOW_MEGA_dyson_swarm_1_a
							is_megastructure_type = AOW_MEGA_dyson_swarm_1_f
							is_megastructure_type = AOW_MEGA_dyson_swarm_1_g
							is_megastructure_type = AOW_MEGA_dyson_swarm_1_k
							is_megastructure_type = AOW_MEGA_dyson_swarm_1_m
							is_megastructure_type = AOW_MEGA_dyson_swarm_2_hyper
							is_megastructure_type = AOW_MEGA_dyson_swarm_2_super
							is_megastructure_type = AOW_MEGA_dyson_swarm_2_giant
							is_megastructure_type = AOW_MEGA_dyson_swarm_2_o
							is_megastructure_type = AOW_MEGA_dyson_swarm_2_b
							is_megastructure_type = AOW_MEGA_dyson_swarm_2_a
							is_megastructure_type = AOW_MEGA_dyson_swarm_2_f
							is_megastructure_type = AOW_MEGA_dyson_swarm_2_g
							is_megastructure_type = AOW_MEGA_dyson_swarm_2_k
							is_megastructure_type = AOW_MEGA_dyson_swarm_2_m
							is_megastructure_type = AOW_MEGA_star_transfer_4
							is_megastructure_type = AOW_MEGA_star_transfer_5
							is_megastructure_type = AOW_MEGA_starfall_spear_standby
						}
					}
				}
			}
		}
		mode = add
		mult = -1
	}
	complex_trigger_modifier = {
		trigger = count_owned_fleet
		parameters = {
			limit = {
				is_civilian = yes
				has_fleet_order = build_megastructure_fleet_order
				NOR = {
					is_constructing = gateway_0
					is_constructing = hyper_relay
					is_constructing = orbital_ring
					is_constructing = orbital_arc_furnace_1
					is_constructing = dyson_swarm_1
					is_constructing = deep_space_citadel_0
					is_constructing = grand_archive_0
					is_constructing = behemoth_egg
					is_constructing = behemoth_fleet_egg
					is_constructing = behemoth_chrysalis
					is_constructing = behemoth_chrysalis_big
					is_constructing = habitat_central_complex
					AND = { # gigastructures
						has_global_flag = gigastructures_enabled
						OR = {
							is_constructing = frameworld_harvest_0
							is_constructing = frameworld_salvage_habitat_0
							is_constructing = major_orbital
							is_constructing = minor_orbital
							is_constructing = major_orbital_knights
							is_constructing = orbital_elysium_0
							is_constructing = orbital_elysium_origin_platform_1
							is_constructing = asteroid_artillery_0
							is_constructing = atmosphere_shredder_0
							is_constructing = automated_stripmine_0
							is_constructing = crystal_megabore_0
							is_constructing = kugelblitz_0
							is_constructing = macro_test_site_0
							is_constructing = orbital_artificial_eco_0
							is_constructing = succ_0
							is_constructing = anti_sirens_shield
							is_constructing = orbital_arcology_0
							is_constructing = stellar_ring_habitat_0
						}
					}
					AND = { # age of wonder
						has_global_flag = AOW_installed
						OR = {
							is_constructing = AOW_MEGA_asteroid_mining_station_1
							is_constructing = AOW_MEGA_resource_drilling_station_0
							is_constructing = AOW_MEGA_satellite_defense_base_1
							is_constructing = AOW_MEGA_space_arena_1
							is_constructing = AOW_MEGA_space_sensor_station_1
							is_constructing = AOW_MEGA_advanced_hyperlane_controller
							is_constructing = AOW_MEGA_hyperlane_controller
							is_constructing = AOW_MEGA_dyson_swarm_1_hyper
							is_constructing = AOW_MEGA_dyson_swarm_1_super
							is_constructing = AOW_MEGA_dyson_swarm_1_giant
							is_constructing = AOW_MEGA_dyson_swarm_1_o
							is_constructing = AOW_MEGA_dyson_swarm_1_b
							is_constructing = AOW_MEGA_dyson_swarm_1_a
							is_constructing = AOW_MEGA_dyson_swarm_1_f
							is_constructing = AOW_MEGA_dyson_swarm_1_g
							is_constructing = AOW_MEGA_dyson_swarm_1_k
							is_constructing = AOW_MEGA_dyson_swarm_1_m
						}
					}
				}
			}
		}
		mode = add
		mult = -1
	}
}

# 整合帝国速度
imperium_integration_speed = {
	base = 50
	modifier = {
		has_global_flag = imperium_integration_speed_slow
		NOT = { has_global_flag = imperium_integration_speed_very_slow }
		add = -20
	}
	modifier = {
		has_global_flag = imperium_integration_speed_very_slow
		add = -35
	}
}


############################################################## 银河邦联相关
# 邦联升级投票权重（思潮决定）
galconfed_upgrade_ethic_ai_chance = {
	base = 1
	modifier = { mult = 2 has_ethic = ethic_$LIKE$ }
	modifier = { mult = 4 has_ethic = ethic_fanatic_$LIKE$ }
	modifier = { mult = 0.5 has_ethic = ethic_$HATE$ }
	modifier = { mult = 0.25 has_ethic = ethic_fanatic_$HATE$ }
}

# 邦联机构总升级
confed_institutions_levels = {
	base = 0
	#modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_development_bank }
	modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_development_bank has_federation_perk = trade_galconfed_specialization_bonus_1 }
	modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_development_bank has_federation_perk = trade_galconfed_specialization_bonus_2 }
	modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_development_bank has_federation_perk = trade_galconfed_specialization_bonus_3 }
	#modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_academy_of_sciences }
	modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_academy_of_sciences has_federation_perk = research_galconfed_specialization_bonus_1 }
	modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_academy_of_sciences has_federation_perk = research_galconfed_specialization_bonus_2 }
	modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_academy_of_sciences has_federation_perk = research_galconfed_specialization_bonus_3 }
	#modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_defense_committee }
	modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_defense_committee has_federation_perk = military_galconfed_specialization_bonus_1 }
	modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_defense_committee has_federation_perk = military_galconfed_specialization_bonus_2 }
	modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_defense_committee has_federation_perk = military_galconfed_specialization_bonus_3 }
	#modifier = { add = 1 is_active_resolution = resolution_custodian_confed_galpol }
	modifier = { add = 1 is_active_resolution = resolution_custodian_confed_galpol has_global_flag = resolution_custodian_confed_galpol_upgrade_1 }
	modifier = { add = 1 is_active_resolution = resolution_custodian_confed_galpol has_global_flag = resolution_custodian_confed_galpol_upgrade_2 }
	#modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_department_of_exploit }
	modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_department_of_exploit has_global_flag = resolution_custodian_galactic_department_of_exploit_upgrade_1 }
	modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_department_of_exploit has_global_flag = resolution_custodian_galactic_department_of_exploit_upgrade_2 }
	#modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_department_of_engineering }
	modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_department_of_engineering has_global_flag = resolution_custodian_galactic_department_of_engineering_upgrade_1 }
	modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_department_of_engineering has_global_flag = resolution_custodian_galactic_department_of_engineering_upgrade_2 }
}

# 邦联科学院建筑的修正强度——取决于行星与星区的科学家总督总等级
building_institute_galactic_academy_of_sciences_governor_modifier = {
	base = 0
	modifier = {
		sector = {
			exists = leader
			leader = { leader_class = scientist }
		}
		check_variable_arithmetic = {
			which = value:planet_governor_scientist_skill
			value <= value:sector_governor_scientist_skill
		}
		add = value:sector_governor_scientist_skill
	}
	modifier = {
		exists = leader
		leader = { leader_class = scientist }
		check_variable_arithmetic = {
			which = value:planet_governor_scientist_skill
			value > value:sector_governor_scientist_skill
		}
		add = value:planet_governor_scientist_skill
	}
}
planet_governor_scientist_skill = {
	base = 0
	modifier = {
		add = leader.trigger:has_total_skill
		exists = leader
		leader = { leader_class = scientist }
	}
}
sector_governor_scientist_skill = {
	base = 0
	modifier = {
		add = sector.leader.trigger:has_total_skill
		sector = {
			exists = leader
			leader = { leader_class = scientist }
		}
	}
}

# 破碎行星采矿站计算星系内的破碎行星数量
system_num_shattered_planets = {
	base = 0
	complex_trigger_modifier = {
		trigger = count_system_planet
		parameters = {
			limit = {
				OR = {
					is_planet_class = pc_shattered
					is_planet_class = pc_broken
				}
			}
		}
		mode = add
	}
}

# 工程署计算轨道上的工程船数量
gdoe_constructors_count = {
	base = 0
	complex_trigger_modifier = {
		trigger = count_fleet_in_orbit
		parameters = {
			limit = {
				is_civilian = yes
				any_owned_ship = { is_ship_class = shipclass_constructor }
				owner = { is_same_value = prevprev.owner }
			}
		}
		mode = add
	}
	max = 3
}