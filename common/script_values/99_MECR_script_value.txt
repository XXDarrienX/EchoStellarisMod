# 帝国军团容量
imperial_legion_cap = { # 帝国军团容量
	base = 0
	modifier = {
		add = 8
		has_galactic_emperor = yes
		galactic_emperor = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
		}
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				NOT = { has_ethic = ethic_gestalt_consciousness }
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				NOT = { has_ethic = ethic_gestalt_consciousness }
				num_pops >= 500
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				NOT = { has_ethic = ethic_gestalt_consciousness }
				num_pops >= 1000
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				NOT = { has_ethic = ethic_gestalt_consciousness }
				num_pops >= 1500
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				NOT = { has_ethic = ethic_gestalt_consciousness }
				num_pops >= 2000
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				NOT = { has_ethic = ethic_gestalt_consciousness }
				num_pops >= 2500
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				NOT = { has_ethic = ethic_gestalt_consciousness }
				num_pops >= 3000
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				NOT = { has_ethic = ethic_gestalt_consciousness }
				num_pops >= 3500
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				NOT = { has_ethic = ethic_gestalt_consciousness }
				num_pops >= 4000
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				NOT = { has_ethic = ethic_gestalt_consciousness }
				num_pops >= 4500
			}
		}
		mode = add
		mult = 1
	}
	add = galactic_emperor.imperial_legion_additional #来自建筑的额外容量
}
imperial_mega_warform_cap = { # 帝国战体容量
	base = 0
	modifier = {
		add = 4
		has_galactic_emperor = yes
		galactic_emperor = {
			is_machine_empire = yes
		}
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_machine_empire = yes
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_machine_empire = yes
				num_pops >= 1000
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_machine_empire = yes
				num_pops >= 2000
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_machine_empire = yes
				num_pops >= 3000
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_machine_empire = yes
				num_pops >= 4000
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_machine_empire = yes
				num_pops >= 5000
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_machine_empire = yes
				num_pops >= 6000
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_machine_empire = yes
				num_pops >= 7000
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_machine_empire = yes
				num_pops >= 8000
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_machine_empire = yes
				num_pops >= 9000
			}
		}
		mode = add
		mult = 1
	}
	add = galactic_emperor.imperial_mega_warform_additional #来自建筑的额外容量
}
imperial_warrior_drones_cap = { # 帝国兵蜂容量
	base = 0
	modifier = {
		add = 8
		has_galactic_emperor = yes
		galactic_emperor = {
			is_hive_empire = yes
		}
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_hive_empire = yes
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_hive_empire = yes
				num_pops >= 500
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_hive_empire = yes
				num_pops >= 1000
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_hive_empire = yes
				num_pops >= 1500
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_hive_empire = yes
				num_pops >= 2000
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_hive_empire = yes
				num_pops >= 2500
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_hive_empire = yes
				num_pops >= 3000
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_hive_empire = yes
				num_pops >= 3500
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_hive_empire = yes
				num_pops >= 4000
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				is_galactic_community_member = yes
				is_hive_empire = yes
				num_pops >= 4500
			}
		}
		mode = add
		mult = 1
	}
	add = galactic_emperor.imperial_warrior_drones_additional #来自建筑的额外容量
}
imperial_legion_oversize = {
	base = 1
	multiply = galactic_emperor.imperial_legion_soldier_count
	divide = galactic_emperor.var_imperial_legion_cap
	min = 1
	pow = 2
}
imperial_mega_warform_oversize = {
	base = 1
	multiply = galactic_emperor.imperial_legion_soldier_count_mega_warform
	divide = galactic_emperor.var_imperial_mega_warform_cap
	min = 1
	pow = 2
}
imperial_warrior_drones_oversize = {
	base = 1
	multiply = galactic_emperor.imperial_legion_soldier_count_warrior_drones
	divide = galactic_emperor.var_imperial_warrior_drones_cap
	min = 1
	pow = 2
}

ia_transfer_percent = { # 帝国舰队征召
	base = 0
	modifier = {
		add = 0.15
		has_federation = yes
		federation = { has_federation_law = imperial_armada_conscription_low }
	}
	modifier = {
		add = 0.30
		has_federation = yes
		federation = { has_federation_law = imperial_armada_conscription_mid }
	}
	modifier = {
		add = 0.45
		has_federation = yes
		federation = { has_federation_law = imperial_armada_conscription_high }
	}
	modifier = {
		mult = 1.25
		is_imperial_province = yes
	}
	modifier = {
		mult = 0
		has_country_flag = flag_ia_service_exemption
	}
}
IACount_transfer_to_ia_percent_modifier = { # 帝国舰队征召减免
	base = 1
	#戍邦特化型-25%
	modifier = {
		add = -0.25
		is_imperial_province = yes
		any_agreement = { has_active_specialization = specialist_bulwark }
	}
	#联邦代表特质-5%~15%
	modifier = {
		add = -0.05
		any_owned_leader = {
			is_assigned_to_federation = yes
			has_trait = leader_trait_federal_joint_navy
		}
	}
	modifier = {
		add = -0.10
		any_owned_leader = {
			is_assigned_to_federation = yes
			has_trait = leader_trait_federal_joint_navy_2
		}
	}
	modifier = {
		add = -0.15
		any_owned_leader = {
			is_assigned_to_federation = yes
			has_trait = leader_trait_federal_joint_navy_3
		}
	}
	min = 0.1
}
imperial_governance_usage_naval_mult = {
	base = 1
	modifier = {
		add = -0.1
		galactic_emperor = {
			any_owned_leader = {
				is_assigned_to_galcom_any_job = yes
				has_trait = leader_trait_armada_coordinator
			}
		}
	}
	modifier = {
		add = -0.2
		galactic_emperor = {
			any_owned_leader = {
				is_assigned_to_galcom_any_job = yes
				has_trait = leader_trait_armada_coordinator_2
			}
		}
	}
	modifier = {
		add = -0.3
		galactic_emperor = {
			any_owned_leader = {
				is_assigned_to_galcom_any_job = yes
				has_trait = leader_trait_armada_coordinator_3
			}
		}
	}
}

# 每月帝国权威额外变化
value_imperial_authority_monthly_get = {
	base = 0
	add = modifier:imperial_authority_monthly_get
}

# 联邦代表等级
federation_delegate_skill = {
	base = 0
	modifier = {
		add = 1
		any_owned_leader = {
			is_assigned_to_federation = yes
			has_skill = 1
		}
	}
	modifier = {
		add = 2
		any_owned_leader = {
			is_assigned_to_federation = yes
			has_skill = 2
		}
	}
	modifier = {
		add = 3
		any_owned_leader = {
			is_assigned_to_federation = yes
			has_skill = 3
		}
	}
	modifier = {
		add = 4
		any_owned_leader = {
			is_assigned_to_federation = yes
			has_skill = 4
		}
	}
	modifier = {
		add = 5
		any_owned_leader = {
			is_assigned_to_federation = yes
			has_skill = 5
		}
	}
	modifier = {
		add = 6
		any_owned_leader = {
			is_assigned_to_federation = yes
			has_skill = 6
		}
	}
	modifier = {
		add = 7
		any_owned_leader = {
			is_assigned_to_federation = yes
			has_skill = 7
		}
	}
	modifier = {
		add = 8
		any_owned_leader = {
			is_assigned_to_federation = yes
			has_skill = 8
		}
	}
	modifier = {
		add = 9
		any_owned_leader = {
			is_assigned_to_federation = yes
			has_skill = 9
		}
	}
	modifier = {
		add = 10
		any_owned_leader = {
			is_assigned_to_federation = yes
			has_skill = 10
		}
	}
	mult = $MULT$
}
# 共同体代表等级
galcom_delegate_skill = {
	base = 0
	modifier = {
		add = 1
		any_owned_leader = {
			is_assigned_to_galcom_any_job = yes
			has_skill = 1
		}
	}
	modifier = {
		add = 2
		any_owned_leader = {
			is_assigned_to_galcom_any_job = yes
			has_skill = 2
		}
	}
	modifier = {
		add = 3
		any_owned_leader = {
			is_assigned_to_galcom_any_job = yes
			has_skill = 3
		}
	}
	modifier = {
		add = 4
		any_owned_leader = {
			is_assigned_to_galcom_any_job = yes
			has_skill = 4
		}
	}
	modifier = {
		add = 5
		any_owned_leader = {
			is_assigned_to_galcom_any_job = yes
			has_skill = 5
		}
	}
	modifier = {
		add = 6
		any_owned_leader = {
			is_assigned_to_galcom_any_job = yes
			has_skill = 6
		}
	}
	modifier = {
		add = 7
		any_owned_leader = {
			is_assigned_to_galcom_any_job = yes
			has_skill = 7
		}
	}
	modifier = {
		add = 8
		any_owned_leader = {
			is_assigned_to_galcom_any_job = yes
			has_skill = 8
		}
	}
	modifier = {
		add = 9
		any_owned_leader = {
			is_assigned_to_galcom_any_job = yes
			has_skill = 9
		}
	}
	modifier = {
		add = 10
		any_owned_leader = {
			is_assigned_to_galcom_any_job = yes
			has_skill = 10
		}
	}
	mult = $MULT$
}

# 分散荫庇附庸数量
divided_patronage_mult = {
	base = 0
	add = trigger:subjects
	subtract = 1
	subtract = modifier:divided_patrongage_max_subjects
	complex_trigger_modifier = {
		trigger = count_subject
		parameters = {
			limit = { is_imperial_province = yes }
		}
		mode = subtract
		mult = 1
	}
	min = 0
}

# 加立即转化修正时的倍率
imperial_province_specialisation_instant_param = {
	base = -0.99
	subtract = modifier:specialist_subject_conversion_time_mult
}

# 对于损害联邦的法律提议，根据联邦团结度生成同意度反向补正
fedcoh_neg_modifier = {
	base = 0
	add = federation.trigger:federation_cohesion
	modifier = {
		mult = -0.5
	}
	round = yes
}
fedcoh_equ_modifier = {
	base = 0
	add = federation.trigger:federation_cohesion
	modifier = {
		mult = -0.25
	}
	round = yes
}

imperial_institutions_upgrades_used = { # 帝国机构总等级
	modifier = { add = 1 has_federation_law = imperial_bank_supervision }
	modifier = { add = 2 has_federation_law = imperial_bank_administration }
	modifier = { add = 3 has_federation_law = imperial_bank_control }

	modifier = { add = 1 has_federation_law = isd_political_police }
	modifier = { add = 2 has_federation_law = isd_public_police }
	modifier = { add = 3 has_federation_law = isd_peoples_police }

	modifier = { add = 1 has_federation_law = imperial_academy_of_sciences_talent_concentration }
	modifier = { add = 2 has_federation_law = imperial_academy_of_sciences_research_integration }
	modifier = { add = 3 has_federation_law = imperial_academy_of_sciences_technical_unification }

	modifier = { add = 1 has_federation_law = imperial_department_of_engineering_standardized_construction }
	modifier = { add = 2 has_federation_law = imperial_department_of_engineering_personnel_coordination }
	modifier = { add = 3 has_federation_law = imperial_department_of_engineering_project_new_world }

	modifier = { add = 1 has_federation_law = imperial_ministry_of_education_science_education_reforming }
	modifier = { add = 2 has_federation_law = imperial_ministry_of_education_solidarity_movement }
	modifier = { add = 3 has_federation_law = imperial_ministry_of_education_critical_view_of_history }

	modifier = { add = 1 has_federation_law = imperial_ministry_of_defence_executive_office }
	modifier = { add = 2 has_federation_law = imperial_ministry_of_defence_strategy_institute }
	modifier = { add = 3 has_federation_law = imperial_ministry_of_defence_joint_headquarter }
}

idoe2_free_megaconstructing_slot = {
	base = 1
	add = modifier:country_megastructure_build_cap_add
	complex_trigger_modifier = {
		trigger = count_owned_megastructure
		parameters = {
			limit = {
				is_upgrading = yes
				NOR = {
					is_megastructure_type = gateway_0
					is_megastructure_type = gateway_ruined
					is_megastructure_type = hyper_relay_ruined
					is_megastructure_type = orbital_ring_ruined
				}
			}
		}
		mode = add
		mult = -1
	}
	complex_trigger_modifier = {
		trigger = count_owned_fleet
		parameters = {
			limit = {
				is_civilian = yes
				has_fleet_order = build_megastructure_fleet_order
				NOR = {
					is_constructing = gateway_0
					is_constructing = habitat_central_complex
					is_constructing = hyper_relay
					is_constructing = orbital_ring
				}
			}
		}
		mode = add
		mult = -1
	}
}

activated_war_orders = {
	base = 0
	modifier = {
		add = 1
		is_active_resolution = resolution_galactic_focus_war_order_industrial_mobilization
	}
	modifier = {
		add = 1
		is_active_resolution = resolution_galactic_focus_war_order_build_fleet
	}
	modifier = {
		add = 1
		is_active_resolution = resolution_galactic_focus_war_order_devastating_blow
	}
	modifier = {
		add = 1
		is_active_resolution = resolution_galactic_focus_war_order_planetary_defense
	}
}

low_stability_event_factor = {
	base = 70
	subtract = trigger:planet_stability
	modifier = {
		set = 0
		planet_stability >= 50
	}
	divide = 20
}
high_crime_event_factor = {
	base = -10
	add = trigger:planet_crime
	modifier = {
		set = 0
		planet_crime <= 30
	}
	divide = 20
}

# 免除部分外交影响力花费的效果
free_migration_imperial_upkeep = {
	base = 0
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				has_diplo_migration_treaty = root.planet_owner
				has_federation = yes
				federation = {
					OR = {
						has_federation_law = free_migration_yes_imperium
						has_federation_law = free_migration_yes_confederation
					}
					any_member = { is_same_value = root.planet_owner }
				}
			}
		}
		mode = add
		mult = 1
	}
}

count_emperor_improving_relations = {
	base = 0
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				galactic_emperor = { is_improving_relations_with = prev }
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				galactic_emperor = { is_improving_relations_with = prev }
				is_galactic_community_member = no
			}
		}
		mode = add
		mult = 1
	}
}
count_emperor_harming_relations = {
	base = 0
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				galactic_emperor = { is_harming_relations_with = prev }
			}
		}
		mode = add
		mult = 1
	}
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				galactic_emperor = { is_harming_relations_with = prev }
				is_galactic_community_member = yes
			}
		}
		mode = add
		mult = 1
	}
}

# 外交网络
diplomatic_networking_mult = {
	base = 0
	complex_trigger_modifier = {
		trigger = count_country
		parameters = {
			limit = {
				has_embassy = root
			}
		}
		mode = add
		mult = 1
	}
}

# 整合帝国速度
imperium_integration_speed = {
	base = 50
	modifier = {
		has_global_flag = imperium_integration_speed_slow
		NOT = { has_global_flag = imperium_integration_speed_very_slow }
		add = -20
	}
	modifier = {
		has_global_flag = imperium_integration_speed_very_slow
		add = -35
	}
}

# 邦联升级投票权重（思潮决定）
galconfed_upgrade_ethic_ai_chance = {
	base = 1
	modifier = { mult = 2 has_ethic = ethic_$LIKE$ }
	modifier = { mult = 4 has_ethic = ethic_fanatic_$LIKE$ }
	modifier = { mult = 0.5 has_ethic = ethic_$HATE$ }
	modifier = { mult = 0.25 has_ethic = ethic_fanatic_$HATE$ }
}

# 邦联科学院建筑的修正强度——取决于总督科学家等级
building_institute_galactic_academy_of_sciences_governor_modifier = {
	base = 0
	modifier = {
		check_variable_arithmetic = {
			which = value:skill_scientist_sector_governor
			value < value:skill_scientist_sector_governor
		}
		add = value:sector_governor_scientist_skill
	}
	modifier = {
		exists = leader
		leader = { leader_class = scientist }
		check_variable_arithmetic = {
			which = value:skill_scientist_planet_governor
			value < value:skill_scientist_planet_governor
		}
		add = value:planet_governor_scientist_skill
	}
	max = 10
}
planet_governor_scientist_skill = {
	base = 0
	modifier = {
		add = leader.trigger:has_skill
		exists = leader
		leader = { leader_class = scientist }
	}
}
sector_governor_scientist_skill = {
	base = 0
	modifier = {
		add = planet.leader.trigger:has_skill
	}
}

# 破碎行星采矿站计算星系内的破碎行星数量
system_num_shattered_planets = {
	base = 0
	complex_trigger_modifier = {
		trigger = count_system_planet
		parameters = {
			limit = {
				OR = {
					is_planet_class = pc_shattered
					is_planet_class = pc_broken
				}
			}
		}
		mode = add
	}
}

# 工程署计算轨道上的工程船数量
gdoe_constructors_count = {
	base = 0
	complex_trigger_modifier = {
		trigger = count_fleet_in_orbit
		parameters = {
			limit = {
				is_civilian = yes
				any_owned_ship = { is_ship_class = shipclass_constructor }
				owner = { is_same_value = prevprev.owner }
			}
		}
		mode = add
	}
	max = 3
}

# 邦联机构总升级
confed_institutions_levels = {
	base = 0
	#modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_development_bank }
	modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_development_bank has_federation_perk = trade_galconfed_specialization_bonus_1 }
	modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_development_bank has_federation_perk = trade_galconfed_specialization_bonus_2 }
	modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_development_bank has_federation_perk = trade_galconfed_specialization_bonus_3 }
	#modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_academy_of_sciences }
	modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_academy_of_sciences has_federation_perk = research_galconfed_specialization_bonus_1 }
	modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_academy_of_sciences has_federation_perk = research_galconfed_specialization_bonus_2 }
	modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_academy_of_sciences has_federation_perk = research_galconfed_specialization_bonus_3 }
	#modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_defense_committee }
	modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_defense_committee has_federation_perk = military_galconfed_specialization_bonus_1 }
	modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_defense_committee has_federation_perk = military_galconfed_specialization_bonus_2 }
	modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_defense_committee has_federation_perk = military_galconfed_specialization_bonus_3 }
	#modifier = { add = 1 is_active_resolution = resolution_custodian_confed_galpol }
	modifier = { add = 1 is_active_resolution = resolution_custodian_confed_galpol has_global_flag = resolution_custodian_confed_galpol_upgrade_1 }
	modifier = { add = 1 is_active_resolution = resolution_custodian_confed_galpol has_global_flag = resolution_custodian_confed_galpol_upgrade_2 }
	#modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_department_of_exploit }
	modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_department_of_exploit has_global_flag = resolution_custodian_galactic_department_of_exploit_upgrade_1 }
	modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_department_of_exploit has_global_flag = resolution_custodian_galactic_department_of_exploit_upgrade_2 }
	#modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_department_of_engineering }
	modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_department_of_engineering has_global_flag = resolution_custodian_galactic_department_of_engineering_upgrade_1 }
	modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_department_of_engineering has_global_flag = resolution_custodian_galactic_department_of_engineering_upgrade_2 }
}

# 扰乱帝国治理2：提高反叛概率
disrupt_imperial_governance_2_rise_uprising_chance = {
	base = 1
	modifier = {
		add = 0.1
		check_variable = { which = disrupt_imperial_governance_2_counter value = 1 }
	}
	modifier = {
		add = 0.16
		check_variable = { which = disrupt_imperial_governance_2_counter value = 2 }
	}
	modifier = {
		add = 0.20
		check_variable = { which = disrupt_imperial_governance_2_counter value = 3 }
	}
	modifier = {
		add = 0.22
		check_variable = { which = disrupt_imperial_governance_2_counter value >= 4 }
	}
}

# 叛乱时逃离帝国海军的舰队规模
rebellion_destructed_armada_percentage = {
	base = 0.6
	# 帝国权威
	modifier = {
		mult = 1.1
		imperial_authority < 1
	}
	modifier = {
		mult = 1.1
		imperial_authority < 50
	}
	modifier = {
		mult = 1.1
		imperial_authority < 100
	}
	modifier = {
		mult = 0.9
		imperial_authority > 130
	}
	modifier = {
		mult = 0.9
		imperial_authority > 160
	}
	modifier = {
		mult = 0.9
		imperial_authority > 190
	}
	# 帝国治理状态
	modifier = {
		mult = 0.7
		has_modifier = province_modifier_situation_imperial_governance_solidary
	}
	modifier = {
		mult = 0.9
		has_modifier = province_modifier_situation_imperial_governance_authoritative
	}
	modifier = {
		mult = 1.1
		has_modifier = province_modifier_situation_imperial_governance_disorderly
	}
	modifier = {
		mult = 1.2
		has_modifier = province_modifier_situation_imperial_governance_incontrollable
	}
	# 帝国教育部
	modifier = {
		mult = 0.9
		is_active_resolution = resolution_emperor_imperial_ministry_of_education
	}
	modifier = {
		mult = 0.9
		galactic_emperor.federation = {
			has_federation_law = imperial_ministry_of_education_solidarity_movement
		}
	}
	modifier = {
		mult = 0.8
		galactic_emperor.federation = {
			has_federation_law = imperial_ministry_of_education_critical_view_of_history
		}
	}
	# 帝国国防部
	modifier = {
		mult = 0.9
		is_active_resolution = resolution_emperor_imperial_ministry_of_defence
	}
	modifier = {
		mult = 0.9
		galactic_emperor.federation = {
			has_federation_law = imperial_ministry_of_defence_strategy_institute
		}
	}
	modifier = {
		mult = 0.8
		galactic_emperor.federation = {
			has_federation_law = imperial_ministry_of_defence_joint_headquarter
		}
	}
	# 态度
	modifier = {
		mult = 1.2
		opinion_level = {
			who = galactic_emperor
			level = terrible
		}
	}
	modifier = {
		mult = 1.1
		opinion_level = {
			who = galactic_emperor
			level = poor
		}
	}
	modifier = {
		mult = 0.9
		opinion_level = {
			who = galactic_emperor
			level = excellent
		}
	}
	modifier = {
		mult = 0.8
		opinion_level = {
			who = galactic_emperor
			level = good
		}
	}

	max = 1
	min = 0
}

# 宽恕叛军：改善帝国治理（70以上改善到90，70以下改善20+差额的三分之一）
situation_imperial_governance_improve_civil_war_leniency_low = {
	base = 90
	subtract = trigger:situation_progress
}
situation_imperial_governance_improve_civil_war_leniency_high = {
	base = 70
	subtract = trigger:situation_progress
	divide = 3
	add = 20
}

# 共同体代表等级 
count_community_envoys = {
	base = 0
	add = value:galcom_delegate_skill
}

value_trade_income = {
	base = 0
	add = trigger:trade_income
}

# 行省监察掷骰参数
provincial_administrative_supervision_effect = {
	base = 0
	add = trigger:is_spynetwork_level
	mult = -0.002
	add = -0.3
}
operation_provincial_administrative_supervision_roll_event_nothing_factor = {
	base = 2000
	divide = value:espionage_operation_score
	modifier = {
		mult = 10
		target = { has_country_flag = flag_recent_supervision_roll_event }
	}
}
espionage_operation_score = {
	base = 110
	add = trigger:is_espionage_operation_score
	max = 30
	min = 10
}

#通过的共同体议案数量
passed_resolutions_commerce_industry = {
	base = 0
	modifier = { add = 1 is_active_resolution = resolution_megacorp_1 }
	modifier = { add = 2 is_active_resolution = resolution_megacorp_2 }
	modifier = { add = 3 is_active_resolution = resolution_megacorp_3 }
	modifier = { add = 4 is_active_resolution = resolution_megacorp_4 }
	modifier = { add = 5 is_active_resolution = resolution_megacorp_5 }
	modifier = { add = 6 is_active_resolution = resolution_megacorp_6 }
	mult = 0.5
	modifier = { add = 1 is_active_resolution = resolution_commerce_buzzword_standardization }
	modifier = { add = 2 is_active_resolution = resolution_commerce_leveraged_privateering }
	modifier = { add = 3 is_active_resolution = resolution_commerce_underdeveloped_system_utilization }
	modifier = { add = 4 is_active_resolution = resolution_commerce_holistic_asset_coordination }
	modifier = { add = 5 is_active_resolution = resolution_commerce_profit_maximization_engines }
	modifier = { add = 6 is_active_resolution = resolution_commerce_6 }
	modifier = { add = 1 is_active_resolution = resolution_industry_regulatory_facilitation }
	modifier = { add = 2 is_active_resolution = resolution_industry_collective_waste_management }
	modifier = { add = 3 is_active_resolution = resolution_industry_building_a_better_tomorrow }
	modifier = { add = 4 is_active_resolution = resolution_industry_environmental_ordinance_waivers }
	modifier = { add = 5 is_active_resolution = resolution_industry_project_cornucopia }
	modifier = { add = 6 is_active_resolution = resolution_industry_6 }
	modifier = { add = 1 is_active_resolution = resolution_galactic_market_ban_sentient_organic_slave_trade }
	modifier = { add = 1 is_active_resolution = resolution_galactic_market_ban_sentient_slave_trade }
}
passed_resolutions_politics_culture = {
	base = 0
	modifier = { add = 1 is_active_resolution = resolution_intercultural_exchange }
	modifier = { add = 2 is_active_resolution = resolution_strength_in_diversity }
	modifier = { add = 3 is_active_resolution = resolution_charter_of_sentient_rights }
	modifier = { add = 4 is_active_resolution = resolution_stellar_diplomatic_forums }
	modifier = { add = 5 is_active_resolution = resolution_prime_directive }
	modifier = { add = 6 is_active_resolution = resolution_galactic_cooperation_initiative }
	modifier = { add = 1 is_active_resolution = resolution_guarded_sovereignty }
	modifier = { add = 2 is_active_resolution = resolution_homogenous_state }
	modifier = { add = 3 is_active_resolution = resolution_justified_suspicion }
	modifier = { add = 4 is_active_resolution = resolution_national_purity }
	modifier = { add = 5 is_active_resolution = resolution_cooperation_discouraged }
	modifier = { add = 6 is_active_resolution = resolution_closed_society }
	modifier = { add = 1 is_active_resolution = resolution_enlightened_despotism }
	modifier = { add = 2 is_active_resolution = resolution_a_proper_place }
	modifier = { add = 3 is_active_resolution = resolution_natural_hierarchy }
	modifier = { add = 4 is_active_resolution = resolution_superior_deference }
	modifier = { add = 5 is_active_resolution = resolution_a_whiff_of_grapeshot }
	modifier = { add = 6 is_active_resolution = resolution_let_them_eat_cake }
	modifier = { add = 1 is_active_resolution = resolution_networked_junctions }
	modifier = { add = 2 is_active_resolution = resolution_one_mind }
	modifier = { add = 3 is_active_resolution = resolution_cerebral_coalescence }
	modifier = { add = 4 is_active_resolution = resolution_perfect_panopticon }
	modifier = { add = 5 is_active_resolution = resolution_absolute_control }
	modifier = { add = 6 is_active_resolution = resolution_obsolete_individualism }
	modifier = { add = 1 is_active_resolution = resolution_lawandorder_domestic_security }
	modifier = { add = 2 is_active_resolution = resolution_lawandorder_right_to_work }
	modifier = { add = 3 is_active_resolution = resolution_lawandorder_administrative_subsidies }
	modifier = { add = 4 is_active_resolution = resolution_lawandorder_free_migration }
	modifier = { add = 5 is_active_resolution = resolution_lawandorder_informed_governance }
	modifier = { add = 1 is_active_resolution = resolution_galacticcooperation_mutual_assistance }
	modifier = { add = 2 is_active_resolution = resolution_galacticcooperation_pan_galactic_migration }
	modifier = { add = 3 is_active_resolution = resolution_galacticcooperation_interstellar_mediation }
	modifier = { add = 4 is_active_resolution = resolution_galacticcooperation_indigenous_protection_protocols }
	modifier = { add = 5 is_active_resolution = resolution_galacticcooperation_sanctity_of_life }
	modifier = { add = 1 is_active_resolution = resolution_ascension_cyborg }
	modifier = { add = 1 is_active_resolution = resolution_ascension_psionic }
	modifier = { add = 1 is_active_resolution = resolution_ascension_genetic }
	mult = 0.25
	modifier = { add = 1 is_active_resolution = resolution_greatergood_workers_rights }
	modifier = { add = 2 is_active_resolution = resolution_greatergood_five_year_plans }
	modifier = { add = 3 is_active_resolution = resolution_greatergood_greater_than_ourselves }
	modifier = { add = 4 is_active_resolution = resolution_greatergood_balance_in_the_middle }
	modifier = { add = 5 is_active_resolution = resolution_greatergood_universal_prosperity_mandate }
	modifier = { add = 6 is_active_resolution = resolution_greatergood_6 }
	modifier = { add = 1 is_active_resolution = resolution_community_champions }
	modifier = { add = 1 is_active_resolution = resolution_constitutional_immunity }
	#modifier = { add = 1 is_active_resolution = resolution_development_aides }
	modifier = { add = 1 is_active_resolution = resolution_customs_treaty }
	modifier = { add = 1 is_active_resolution = resolution_form_galactic_lower_house }
	modifier = { add = 1 is_active_resolution = resolution_galactic_threats_committee }
}
passed_resolutions_environment_technology = {
	base = 0
	modifier = { add = 1 is_active_resolution = resolution_gce_crystalline }
	modifier = { add = 1 is_active_resolution = resolution_galactic_population_controls }
	modifier = { add = 1 is_active_resolution = resolution_healthcare_board_of_health }
	modifier = { add = 2 is_active_resolution = resolution_healthcare_xenomedical_research }
	modifier = { add = 3 is_active_resolution = resolution_healthcare_war_relief }
	modifier = { add = 4 is_active_resolution = resolution_healthcare_clonal_medicine }
	modifier = { add = 5 is_active_resolution = resolution_healthcare_universal_healthcare }
	mult = 0.5
	modifier = { add = 1 is_active_resolution = resolution_ecology_recycling_initiatives }
	modifier = { add = 2 is_active_resolution = resolution_ecology_natural_sanctuaries }
	modifier = { add = 3 is_active_resolution = resolution_ecology_integrated_gardens }
	modifier = { add = 4 is_active_resolution = resolution_ecology_environmental_control_board }
	modifier = { add = 5 is_active_resolution = resolution_ecology_paradise_initiative }
	modifier = { add = 6 is_active_resolution = resolution_ecology_6 }
	modifier = { add = 1 is_active_resolution = resolution_galacticstudies_cooperative_research_channels }
	modifier = { add = 2 is_active_resolution = resolution_galacticstudies_astral_studies_network }
	modifier = { add = 3 is_active_resolution = resolution_galacticstudies_advanced_xenostudies }
	modifier = { add = 4 is_active_resolution = resolution_galacticstudies_ethical_guideline_refactoring }
	modifier = { add = 5 is_active_resolution = resolution_galacticstudies_extradimensional_experimentation }
	modifier = { add = 6 is_active_resolution = resolution_galacticstudies_6 }
	modifier = { add = 1 is_active_resolution = resolution_divinity_comfort_the_fallen }
	modifier = { add = 2 is_active_resolution = resolution_divinity_tithe_on_the_soulless }
	modifier = { add = 3 is_active_resolution = resolution_divinity_right_to_work }
	modifier = { add = 4 is_active_resolution = resolution_divinity_silence_the_soulless }
	modifier = { add = 5 is_active_resolution = resolution_divinity_a_defined_purpose }
	modifier = { add = 6 is_active_resolution = resolution_divinity_crusade_against_the_heretic }
	modifier = { add = 1 is_active_resolution = resolution_tiyanki_pest_control }
	modifier = { add = 1 is_active_resolution = resolution_tiyanki_conservation_act }
	modifier = { add = 1 is_active_resolution = resolution_amoeba_conservation_act }
	modifier = { add = 1 is_active_resolution = resolution_customs_treaty }
	modifier = { add = 1 is_active_resolution = resolution_form_galactic_lower_house }
	modifier = { add = 1 is_active_resolution = resolution_galactic_threats_committee }
}
passed_resolutions_defense_war = {
	base = 0
	modifier = { add = 1 is_active_resolution = resolution_protect_neutrals }
	mult = 0.5
	modifier = { add = 1 is_active_resolution = resolution_mutualdefense_the_readied_shield }
	modifier = { add = 2 is_active_resolution = resolution_mutualdefense_military_readiness_act }
	modifier = { add = 3 is_active_resolution = resolution_mutualdefense_enemy_of_my_enemy }
	modifier = { add = 4 is_active_resolution = resolution_mutualdefense_castigation_proclamation }
	modifier = { add = 5 is_active_resolution = resolution_mutualdefense_renegade_containment }
	modifier = { add = 6 is_active_resolution = resolution_mutualdefense_6 }
	modifier = { add = 1 is_active_resolution = resolution_rulesofwar_guardian_angels }
	modifier = { add = 2 is_active_resolution = resolution_rulesofwar_reverence_for_life }
	modifier = { add = 3 is_active_resolution = resolution_rulesofwar_independent_tribunals }
	modifier = { add = 4 is_active_resolution = resolution_rulesofwar_last_resort_doctrine }
	modifier = { add = 5 is_active_resolution = resolution_rulesofwar_demobilization_initiative }
	modifier = { add = 6 is_active_resolution = resolution_rulesofwar_6 }
	modifier = { add = 1 is_active_resolution = resolution_defenseprivatization_defense_contracts }
	modifier = { add = 2 is_active_resolution = resolution_defenseprivatization_private_support_troops }
	modifier = { add = 3 is_active_resolution = resolution_defenseprivatization_condottieri }
	modifier = { add = 4 is_active_resolution = resolution_defenseprivatization_security_business }
	modifier = { add = 5 is_active_resolution = resolution_defenseprivatization_corporate_warlords }
	modifier = { add = 1 is_active_resolution = resolution_declare_crisis }
	modifier = { add = 1 is_active_resolution = resolution_declare_crisis_empire }
}
passed_resolutions_custodianship_galactic_empire = {
	base = 0
	modifier = { add = 1 is_active_resolution = resolution_custodian_emergency_powers }
	modifier = { add = 1 is_active_resolution = resolution_universal_rights }
	modifier = { add = 1 is_active_resolution = resolution_republic_legions }
	modifier = { add = 1 is_active_resolution = resolution_galactic_republic }
	modifier = { add = 1 is_active_resolution = resolution_custodian_form_republic }
	modifier = { add = 1 is_active_resolution = resolution_custodian_form_empire }
	modifier = { add = 1 is_active_resolution = resolution_custodian_expand_galpol }
	modifier = { add = 1 is_active_resolution = resolution_republic_science_academy }
	modifier = { add = 1 is_active_resolution = resolution_republic_imperial_legions }
	modifier = { add = 1 is_active_resolution = resolution_galactic_republic_induct_empire }
	modifier = { add = 1 is_active_resolution = resolution_republic_united_front }
	modifier = { add = 1 is_active_resolution = resolution_empire_anti_piracy }
	modifier = { add = 1 is_active_resolution = resolution_republic_form_empire }
	modifier = { add = 1 is_active_resolution = resolution_empire_science_academy }
	mult = 0.5
	modifier = { add = 1 is_active_resolution = resolution_custodian_extend_custodianship }
	modifier = { add = 1 is_active_resolution = resolution_custodian_perpetual_custodianship }
	modifier = { add = 1 is_active_resolution = resolution_custodian_united_front }
	modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_mobilization }
	modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_standard }
	modifier = { add = 1 is_active_resolution = resolution_custodian_science_cooperation_initiative }
	modifier = { add = 1 is_active_resolution = resolution_custodian_assist_the_developing_countries }
	modifier = { add = 1 is_active_resolution = resolution_custodian_pioneering_movement }
	modifier = { add = 1 is_active_resolution = resolution_custodian_crack_down_on_criminal_syndicate }
	modifier = { add = 1 is_active_resolution = resolution_custodian_anti_piracy }
	modifier = { add = 1 is_active_resolution = resolution_custodian_webway_project }
	modifier = { add = 1 is_active_resolution = resolution_custodian_peace_windows_project }
	modifier = { add = 1 is_active_resolution = resolution_custodian_establish_the_galactic_confederation }
	modifier = { add = 1 is_active_resolution = resolution_custodian_ina }
	modifier = { add = 1 is_active_resolution = resolution_custodian_gto }
	modifier = { add = 1 is_active_resolution = resolution_custodian_galpol }
	modifier = { add = 1 is_active_resolution = resolution_custodian_gdf }
	modifier = { add = 1 is_active_resolution = resolution_custodian_expand_gdf }
	modifier = { add = 1 is_active_resolution = resolution_custodian_expand_gdf_3 }
	modifier = { add = 1 is_active_resolution = resolution_custodian_expand_gdf_4 }
	modifier = { add = 1 is_active_resolution = resolution_custodian_expand_gdf_5 }
	modifier = { add = 1 is_active_resolution = resolution_custodian_expand_gdf_6 }
	modifier = { add = 1 is_active_resolution = resolution_custodian_expand_gdf_7 }
	modifier = { add = 1 is_active_resolution = resolution_custodian_expand_gdf_8 }
	modifier = { add = 1 is_active_resolution = resolution_custodian_expand_gdf_9 }
	modifier = { add = 1 is_active_resolution = resolution_custodian_expand_gdf_10 }
	modifier = { add = 1 is_active_resolution = resolution_emperor_expand_power_of_council }
	modifier = { add = 1 is_active_resolution = resolution_emperor_council_inspectorate }
	modifier = { add = 1 is_active_resolution = resolution_emperor_by_appointment }
	modifier = { add = 1 is_active_resolution = resolution_emperor_trial_of_advancement }
	modifier = { add = 1 is_active_resolution = resolution_emperor_permanent_seat }
	modifier = { add = 1 is_active_resolution = resolution_galactic_empire_imperial_crusade }
	modifier = { add = 1 is_active_resolution = resolution_emperor_clean_up_ancient_threats }
	modifier = { add = 1 is_active_resolution = resolution_emperor_united_front }
	modifier = { add = 1 is_active_resolution = resolution_emperor_galactic_mobilization }
	modifier = { add = 1 is_active_resolution = resolution_galactic_empire_imperial_crusade_MECR }
	modifier = { add = 1 is_active_resolution = resolution_emperor_galactic_standard }
	modifier = { add = 1 is_active_resolution = resolution_emperor_standardizing_weights_and_measures }
	modifier = { add = 1 is_active_resolution = resolution_emperor_webway_project }
	modifier = { add = 1 is_active_resolution = resolution_emperor_light_the_astronomican }
	modifier = { add = 1 is_active_resolution = resolution_emperor_reduce_government_agencies }
	modifier = { add = 1 is_active_resolution = resolution_emperor_expand_government_agencies }
	modifier = { add = 1 is_active_resolution = resolution_emperor_pax_galactica }
	modifier = { add = 1 is_active_resolution = resolution_emperor_the_step_towards_a_united_galaxy }
	modifier = { add = 1 is_active_resolution = resolution_emperor_imperial_unification }
	modifier = { add = 1 is_active_resolution = resolution_emperor_imperial_bank }
	modifier = { add = 1 is_active_resolution = resolution_emperor_isd }
	modifier = { add = 1 is_active_resolution = resolution_emperor_imperial_academy_of_sciences }
	modifier = { add = 1 is_active_resolution = resolution_emperor_imperial_department_of_engineering }
	modifier = { add = 1 is_active_resolution = resolution_emperor_imperial_ministry_of_education }
	modifier = { add = 1 is_active_resolution = resolution_emperor_imperial_ministry_of_defence }
	modifier = { add = 1 is_active_resolution = resolution_emperor_ina }
	modifier = { add = 1 is_active_resolution = resolution_emperor_gto }
	modifier = { add = 1 is_active_resolution = resolution_emperor_imperial_armada }
	modifier = { add = 1 is_active_resolution = resolution_emperor_expand_ia }
	modifier = { add = 1 is_active_resolution = resolution_emperor_expand_ia_3 }
	modifier = { add = 1 is_active_resolution = resolution_emperor_expand_ia_4 }
	modifier = { add = 1 is_active_resolution = resolution_emperor_expand_ia_5 }
	modifier = { add = 1 is_active_resolution = resolution_emperor_expand_ia_6 }
	modifier = { add = 1 is_active_resolution = resolution_emperor_expand_ia_7 }
	modifier = { add = 1 is_active_resolution = resolution_emperor_expand_ia_8 }
	modifier = { add = 1 is_active_resolution = resolution_emperor_expand_ia_9 }
	modifier = { add = 1 is_active_resolution = resolution_emperor_expand_ia_10 }
	modifier = { add = 1 is_active_resolution = resolution_emperor_imperial_legions }
	modifier = { add = 1 is_active_resolution = resolution_emperor_imperial_legions_extensive_recruitment }
	modifier = { add = 1 is_active_resolution = resolution_emperor_galactic_monitoring_network }
	modifier = { add = 1 is_active_resolution = resolution_emperor_imperial_charter }
	modifier = { add = 1 is_active_resolution = resolution_ia_service_exemption }
	modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_development_bank }
	modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_academy_of_sciences }
	modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_defense_committee }
	modifier = { add = 1 is_active_resolution = resolution_custodian_confed_galpol }
	modifier = { add = 1 is_active_resolution = resolution_custodian_confed_upgrade_galpol }
	modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_department_of_exploit }
	modifier = { add = 1 is_active_resolution = resolution_custodian_upgrade_galactic_department_of_exploit }
	modifier = { add = 1 is_active_resolution = resolution_custodian_galactic_department_of_engineering }
	modifier = { add = 1 is_active_resolution = resolution_custodian_upgrade_galactic_department_of_engineering }
}