# Defensive armies can't transport off the planet
# Maintenance is directly scripted here. 0.25 translates to 0.25 monthly cost (excluding other upkeep modifiers)
# Morale_damage = 1		# average morale damage of the army, default: auto (calculated from morale * MORALE_DAMAGE_MULT)
# Building spawned armies can't be built normally, but only created from pops working buildings

# Imperial Legions
imperial_legion = {
	damage = 3.0
	health = 3.0
	morale = 5.0
	morale_damage = 1.5
	collateral_damage = 0.5
	war_exhaustion = 3.0
	time = 150
	has_species = no
	icon = GFX_army_type_imperial

	resources = {
		category = armies
		cost = {
			minerals = 400
		}

		upkeep = {
			energy = 3
		}
	}
	potential = {
		owner = {
			is_galactic_emperor = yes
			is_active_resolution = "resolution_emperor_imperial_legions"
		}
		any_country = {
			is_galactic_community_member = yes
			is_gestalt = no
		}
	}
	allow = {
		custom_tooltip = {
			text = imperial_legion_limit_tooltip
			owner = {
				check_variable = {
					which = "imperial_legion_soldier_count"
					value < value:imperial_legion_cap
				}
			}
		}
	}
	on_queued = {
		owner = {
			change_variable = {
				which = "imperial_legion_soldier_count"
				value = 1
			}
			set_variable = { which = var_imperial_legion_cap value = value:imperial_legion_cap } #显示
		}
	}
	on_unqueued = {
		owner = {
			change_variable = {
				which = "imperial_legion_soldier_count"
				value = -1
			}
			set_variable = { which = var_imperial_legion_cap value = value:imperial_legion_cap } #显示
		}
	}
}

imperial_mega_warform = {
	damage = 5.0
	health = 7.0
	has_morale = no
	morale_damage = 2
	collateral_damage = 4.0
	war_exhaustion = 3.0
	time = 500
	has_species = no
	icon = GFX_army_imperial_mega_warform

	resources = {
		category = armies
		cost = {
			alloys = 300
		}
		upkeep = {
			energy = 8
		}
	}
	potential = {
		owner = {
			is_galactic_emperor = yes
			is_active_resolution = "resolution_emperor_imperial_legions"
		}
		any_country = {
			is_galactic_community_member = yes
			is_machine_empire = yes
		}
	}
	allow = {
		custom_tooltip = {
			text = imperial_mega_warform_limit_tooltip
			owner = {
				check_variable = {
					which = "imperial_legion_soldier_count_mega_warform"
					value < value:imperial_mega_warform_cap
				}
			}
		}
	}
	on_queued = {
		owner = {
			change_variable = {
				which = "imperial_legion_soldier_count_mega_warform"
				value = 1
			}
			set_variable = { which = var_imperial_mega_warform_cap value = value:imperial_mega_warform_cap } #显示
		}
	}
	on_unqueued = {
		owner = {
			change_variable = {
				which = "imperial_legion_soldier_count_mega_warform"
				value = -1
			}
			set_variable = { which = var_imperial_mega_warform_cap value = value:imperial_mega_warform_cap } #显示
		}
	}
}

imperial_soldier_drones = {
	damage = 4.0
	health = 2.5
	has_morale = no
	morale_damage = 1.5
	collateral_damage = 1.5
	war_exhaustion = 3.0
	time = 180
	has_species = no
	icon = GFX_army_imperial_soldier_drones

	resources = {
		category = armies
		cost = {
			food = 600
		}
		upkeep = {
			energy = 5
		}
	}
	potential = {
		owner = {
			is_galactic_emperor = yes
			is_active_resolution = "resolution_emperor_imperial_legions"
		}
		any_country = {
			is_galactic_community_member = yes
			is_hive_empire = yes
		}
	}
	allow = {
		custom_tooltip = {
			text = imperial_soldier_drones_limit_tooltip
			owner = {
				check_variable = {
					which = "imperial_legion_soldier_count_soldier_drones"
					value < value:imperial_soldier_drones_cap
				}
			}
		}
	}
	on_queued = {
		owner = {
			change_variable = {
				which = "imperial_legion_soldier_count_soldier_drones"
				value = 1
			}
			set_variable = { which = var_imperial_soldier_drones_cap value = value:imperial_soldier_drones_cap } #显示
		}
	}
	on_unqueued = {
		owner = {
			change_variable = {
				which = "imperial_legion_soldier_count_soldier_drones"
				value = -1
			}
			set_variable = { which = var_imperial_soldier_drones_cap value = value:imperial_soldier_drones_cap } #显示
		}
	}
}