is_custodian_or_emperor = {
	OR = {
		AND = {
			has_galactic_custodian = yes
			is_galactic_custodian = yes
		}
		AND = {
			has_galactic_emperor = yes
			is_galactic_emperor = yes
		}
	}
}


is_crisis_ongoing = {
	OR = {
		AND = {
			has_global_flag = ongoing_prethoryn_invasion
			NOT = { has_global_flag = prethoryn_invasion_defeated }
		}
		AND = {
			has_global_flag = extradimensional_invasion_happened
			NOT = { has_global_flag = extradimensional_invasion_defeated }
		}
		AND = {
			has_global_flag = ai_invasion_ongoing
			NOT = { has_global_flag = ai_invasion_defeated }
		}
		any_country = {
			has_crisis_level = crisis_level_5
		}
	}
}

galaxy_is_peace = {
	is_crisis_ongoing = no
	NOR = {
		is_active_resolution = resolution_galactic_focus_crisis_greatkhan
		is_active_resolution = resolution_galactic_focus_crisis_nanites
		any_country = { has_been_declared_crisis = yes }
		any_country = {
			any_war = {
				using_war_goal = {
					type = wg_war_in_heaven
					owner = attacker
				}
			}
		}
		any_country = {
			any_war = {
				using_war_goal = {
					type = wg_galactic_civil_war_loyalists
					owner = attacker
				}
			}
		}
	}
}

is_justice_war = {
	OR = {
		using_war_goal = { type = wg_end_threat owner = attacker }
		using_war_goal = { type = wg_end_threat_swarm owner = attacker }
		using_war_goal = { type = wg_end_threat_assimilators owner = attacker }
		using_war_goal = { type = wg_end_threat_colossus owner = attacker }
		using_war_goal = { type = wg_end_threat_crisis owner = attacker }
		using_war_goal = { type = wg_end_threat_ae owner = attacker }

		using_war_goal = { type = wg_independence owner = attacker }
		using_war_goal = { type = wg_leave_hegemony owner = attacker }
		using_war_goal = { type = wg_machine_uprising owner = attacker }
		
		using_war_goal = { type = wg_seize_council_seat owner = attacker }
		using_war_goal = { type = wg_imperial_rebuke owner = attacker }

		AND = {
			using_war_goal = { type = wg_expel_corp owner = attacker }
			defender = { is_criminal_syndicate = yes }
		}
		AND = {
			using_war_goal = { type = wg_expel_corp_imperium owner = attacker }
			defender = { is_criminal_syndicate = yes }
		}
	}
}

is_extradimensional_invading = {
	has_global_flag = extradimensional_invasion_happened
	NOT = { has_global_flag = extradimensional_invasion_defeated }
}

is_imperial_member_state = {
	is_subject = yes
	OR = {
		any_agreement = { agreement_preset = preset_imperial_province }
		any_agreement = { agreement_preset = preset_imperial_province_bulwark }
		any_agreement = { agreement_preset = preset_imperial_province_scholarium }
		any_agreement = { agreement_preset = preset_imperial_province_prospectorium }
		any_agreement = { agreement_preset = preset_imperial_senator }
		any_agreement = { agreement_preset = preset_imperial_senator_bulwark }
		any_agreement = { agreement_preset = preset_imperial_senator_scholarium }
		any_agreement = { agreement_preset = preset_imperial_senator_prospectorium }
		any_agreement = { agreement_preset = preset_imperial_special_economic_zone }
		any_agreement = { agreement_preset = preset_imperial_special_economic_zone_bulwark }
		any_agreement = { agreement_preset = preset_imperial_special_economic_zone_scholarium }
		any_agreement = { agreement_preset = preset_imperial_special_economic_zone_prospectorium }
	}
}

is_imperial_province = {
	is_subject = yes
	OR = {
		any_agreement = { agreement_preset = preset_imperial_province }
		any_agreement = { agreement_preset = preset_imperial_province_bulwark }
		any_agreement = { agreement_preset = preset_imperial_province_scholarium }
		any_agreement = { agreement_preset = preset_imperial_province_prospectorium }
		any_agreement = { agreement_preset = preset_imperial_senator }
		any_agreement = { agreement_preset = preset_imperial_senator_bulwark }
		any_agreement = { agreement_preset = preset_imperial_senator_scholarium }
		any_agreement = { agreement_preset = preset_imperial_senator_prospectorium }
		any_agreement = { agreement_preset = preset_imperial_special_economic_zone }
		any_agreement = { agreement_preset = preset_imperial_special_economic_zone_bulwark }
		any_agreement = { agreement_preset = preset_imperial_special_economic_zone_scholarium }
		any_agreement = { agreement_preset = preset_imperial_special_economic_zone_prospectorium }
	}
}
is_imperial_province_agreement = {
	OR = {
		agreement_preset = preset_imperial_province
		agreement_preset = preset_imperial_province_bulwark
		agreement_preset = preset_imperial_province_scholarium
		agreement_preset = preset_imperial_province_prospectorium
		agreement_preset = preset_imperial_senator
		agreement_preset = preset_imperial_senator_bulwark
		agreement_preset = preset_imperial_senator_scholarium
		agreement_preset = preset_imperial_senator_prospectorium
		agreement_preset = preset_imperial_special_economic_zone
		agreement_preset = preset_imperial_special_economic_zone_bulwark
		agreement_preset = preset_imperial_special_economic_zone_scholarium
		agreement_preset = preset_imperial_special_economic_zone_prospectorium
	}
}
imperial_province_or_special_economic_zone = {
	is_subject = yes
	OR = {
		any_agreement = { agreement_preset = preset_imperial_province }
		any_agreement = { agreement_preset = preset_imperial_province_bulwark }
		any_agreement = { agreement_preset = preset_imperial_province_scholarium }
		any_agreement = { agreement_preset = preset_imperial_province_prospectorium }
		any_agreement = { agreement_preset = preset_imperial_special_economic_zone }
		any_agreement = { agreement_preset = preset_imperial_special_economic_zone_bulwark }
		any_agreement = { agreement_preset = preset_imperial_special_economic_zone_scholarium }
		any_agreement = { agreement_preset = preset_imperial_special_economic_zone_prospectorium }
	}
}

any_FYP_ongoing = {
	OR = {
		is_active_resolution = resolution_galactic_focus_five_year_plan_infrastructure_construction
		is_active_resolution = resolution_galactic_focus_five_year_plan_science_research
		is_active_resolution = resolution_galactic_focus_five_year_plan_medical_care
		is_active_resolution = resolution_galactic_focus_five_year_plan_harmonious_diplomacy
		is_active_resolution = resolution_galactic_focus_five_year_plan_shared_prosperity
	}
}