### spikes

weapon_component_template = {
	key = "XL_mem_aevum_nuke_1"
	size = extra_large
	type = instant
	icon = "GFX_mem_aevum_mega_nuke"
	icon_frame = 1
	entity = "invisible_turret_entity"
	prerequisites = { "mem_aevum_unlock_time_components" }
	component_set = "mem_aevum_mega_nuke"
	projectile_gfx = "dimensional_horror_spike_weapon"
	tags = { weapon_type_kinetic weapon_role_artillery weapon_archaeotech }
	ai_tags = { weapon_role_anti_shield weapon_role_anti_hull }
	resources = {
		category = ship_components
		cost = {
			alloys = @xl_t5_cost
			sr_zro =  @xl_t7_rare
		}
		upkeep = {
			energy = @xl_t5_upkeep_energy
			alloys = @xl_t5_upkeep_alloys
		}
	}
	power = -350
	damage = { min = 1980 max = 4260 }
	hull_damage = 2
	shield_damage = 2
	shield_penetration = 0
	armor_damage = 0.5
	armor_penetration = 0 
	total_fire_time = 250
	range = 200
	accuracy = 1 
	tracking = 1
	firing_arc = 25.0 
	min_range = 10.0
	#use_ship_main_target = no

	ai_weight = {
		weight = 1
		modifier = {
			add = 2.5
			owner = { has_ascension_perk = ap_archaeoengineers }
		}
		modifier = {
			factor = 0.0
			owner = {
				has_monthly_income = {
					resource = sr_zro
					value < 3
				}
			}
		}
		modifier = {
			factor = 1.3
			owner = {
				resource_stockpile_compare = {
					resource = sr_zro
					value > 250
				}
			}
		}
		
	}
	
}

# nullifier
utility_component_template = {
	key = "mem_aevum_nullifier_aux"
	size = aux
	icon = "GFX_mem_aevum_shield" 
	icon_frame = 1
	power = @power_S2
	resources = {
		category = ship_components
		cost = {
			alloys = @cloak_s_t1_cost_alloys
			sr_zro =  @cloak_s_t1_cost_strategic_resources
		}
		upkeep = {
			energy = @cloak_s_t1_upkeep_energy
			#alloys = @cloak_s_t1_upkeep_alloys
		}
	}

	ship_modifier = {
		#ship_speed_reduction = -1 # actualley reverts to pure speed
		ship_shield_reduction = -1
		ship_armor_reduction = -0.5
	}

	# triggered_ship_modifier = {
	# 	potential = {
	# 		owner = {
	# 			has_ascension_perk = ap_mind_over_matter
	# 		}
			
	# 	}
	# }
	# custom_tooltip = "mem_aevum_shield_tt"

	ship_limit = 1

	#size_restriction = { corvette frigate crisis_corvette offspring_corvette }
	# blocked_by = {
	# 	CORVETTE_CLOAKING_2
	# 	CORVETTE_CLOAKING_3
	# 	CORVETTE_CLOAKING_DARK_MATTER
	# 	CORVETTE_CLOAKING_PSI
	# }
	prerequisites = { "mem_aevum_unlock_time_components" }
	component_set = "mem_aevum_shield"
	#upgrades_to = "CORVETTE_CLOAKING_2"
	ai_tags = {
		
	}

	ai_weight = {
		weight = 0
	}
}
