ms_set_gray_portrait = {
    hidden_effect = {
        event_target:gray_country = {
            remove_country_flag = ms_ldr_gray_random
            remove_country_flag = ms_ldr_gray_random_wingless
            remove_country_flag = ms_ldr_gray_default
            remove_country_flag = ms_ldr_gray_default_wingless
            remove_country_flag = ms_ldr_gray_classic
            remove_country_flag = ms_ldr_gray_classic_wingless
            set_country_flag = $P$
            random_owned_leader = {
                limit = { has_leader_flag = ms_temp_gray }
                ms_update_gray_portrait = yes
            }
        }
    }
}
ms_update_gray_portrait = {
    reroll_random = yes
    event_target:gray_country = {
        switch = {
            trigger = has_country_flag
            ms_ldr_gray_random = { prev = { change_leader_portrait = ms_ldr_gray_random } }
            ms_ldr_gray_random_wingless = { prev = { change_leader_portrait = ms_ldr_gray_random_wingless } }
            ms_ldr_gray_default = { prev = { change_leader_portrait = ms_ldr_gray_default } }
            ms_ldr_gray_default_wingless = { prev = { change_leader_portrait = ms_ldr_gray_default_wingless } }
            ms_ldr_gray_classic = { prev = { change_leader_portrait = ms_ldr_gray_classic } }
            ms_ldr_gray_classic_wingless = { prev = { change_leader_portrait = ms_ldr_gray_classic_wingless } }
            default = { prev = { change_leader_portrait = ms_ldr_gray_default } }
        }
    }
}