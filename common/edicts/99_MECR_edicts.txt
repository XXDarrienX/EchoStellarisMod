hire_a_construction_group_1 = {
	length = -1
	icon = "GFX_mod_country_megastructure_build_cap_add"
	resources = {
		category = country_base
		upkeep = {
			influence = 3
			unity = 200
		}
		cost = {
			trigger = {
				has_edict = hire_a_construction_group_1
				has_edict = hire_a_construction_group_2
			}
			influence = 9999
		}
	}

	potential = {
		has_federation = yes
		federation = {
			OR = {
				has_federation_law = imperial_department_of_engineering_personnel_coordination
				has_federation_law = imperial_department_of_engineering_project_new_world
			}
		}
	}
	allow = {
		custom_tooltip = {
			NOT = { has_country_flag = flag_remove_edict_hire_a_construction_group_1 }
		}
	}

	modifier = {
		country_megastructure_build_cap_add = 1
	}
	effect = {
		if = { #启用提示
			limit = { NOT = { has_edict = hire_a_construction_group_1 } }
			if = {
				limit = { has_modifier = rent_out_a_construction_group }
				custom_tooltip = "edict_hire_a_construction_group_effect_transfer"
				#hidden_effect = {
					imperial_department_of_engineering_lvl2_transfer_megaconstructing_slot = { num = 1 }
				#}
			}
			else = {
				custom_tooltip = "edict_hire_a_construction_group_effect_activate"
				#hidden_effect = {
					imperial_department_of_engineering_lvl2_take_megaconstructing_slot = { num = 1 }
				#}
			}
		}
		else = { #关闭提示
			custom_tooltip = "edict_hire_a_construction_group_effect_deactivate"
			if = { #如果有更高的借用，那么这个不可用
				limit = { has_edict = hire_a_construction_group_2 }
				custom_tooltip = "edict_cant_deactivate_with_higher_hire"
			}
			#hidden_effect = {
				#set_country_flag = flag_remove_idoe2_1
				#country_event = {
				#	id = MECR.1061
				#}
				imperial_department_of_engineering_lvl2_return_megaconstructing_slot = { num = 1 }
			#}
		}
	}
}
hire_a_construction_group_2 = {
	length = -1
	icon = "GFX_mod_country_megastructure_build_cap_add"
	resources = {
		category = country_base
		upkeep = {
			influence = 3
			unity = 200
		}
		cost = {
			trigger = {
				has_edict = hire_a_construction_group_2
				has_edict = hire_a_construction_group_3
			}
			influence = 9999
		}
	}

	potential = {
		has_edict = hire_a_construction_group_1
	}
	allow = {
		custom_tooltip = {
			NOT = { has_country_flag = flag_remove_edict_hire_a_construction_group_2 }
		}
	}

	modifier = {
		country_megastructure_build_cap_add = 1
	}
	effect = {
		if = { #启用提示
			limit = { NOT = { has_edict = hire_a_construction_group_2 } }
			custom_tooltip = "edict_hire_a_construction_group_effect_activate"
			#hidden_effect = {
				imperial_department_of_engineering_lvl2_take_megaconstructing_slot = { num = 2 }
			#}
		}
		else = { #关闭提示
			custom_tooltip = "edict_hire_a_construction_group_effect_deactivate"
			if = { #如果有更高的借用，那么这个不可用
				limit = { has_edict = hire_a_construction_group_3 }
				custom_tooltip = "edict_cant_deactivate_with_higher_hire"
			}
			#hidden_effect = {
				imperial_department_of_engineering_lvl2_return_megaconstructing_slot = { num = 2 }
			#}
		}
	}
}
hire_a_construction_group_3 = {
	length = -1
	icon = "GFX_mod_country_megastructure_build_cap_add"
	resources = {
		category = country_base
		upkeep = {
			influence = 3
			unity = 200
		}
		cost = {
			trigger = {
				has_edict = hire_a_construction_group_3
				has_edict = hire_a_construction_group_4
			}
			influence = 9999
		}
	}

	potential = {
		has_edict = hire_a_construction_group_2
	}
	allow = {
		custom_tooltip = {
			NOT = { has_country_flag = flag_remove_edict_hire_a_construction_group_3 }
		}
	}

	modifier = {
		country_megastructure_build_cap_add = 1
	}
	effect = {
		if = { #启用提示
			limit = { NOT = { has_edict = hire_a_construction_group_3 } }
			custom_tooltip = "edict_hire_a_construction_group_effect_activate"
			#hidden_effect = {
				imperial_department_of_engineering_lvl2_take_megaconstructing_slot = { num = 3 }
			#}
		}
		else = { #关闭提示
			custom_tooltip = "edict_hire_a_construction_group_effect_deactivate"
			if = { #如果有更高的借用，那么这个不可用
				limit = { has_edict = hire_a_construction_group_4 }
				custom_tooltip = "edict_cant_deactivate_with_higher_hire"
			}
			#hidden_effect = {
				imperial_department_of_engineering_lvl2_return_megaconstructing_slot = { num = 3 }
			#}
		}
	}
}
hire_a_construction_group_4 = {
	length = -1
	icon = "GFX_mod_country_megastructure_build_cap_add"
	resources = {
		category = country_base
		upkeep = {
			influence = 3
			unity = 200
		}
		cost = {
			trigger = {
				has_edict = hire_a_construction_group_4
				has_edict = hire_a_construction_group_5
			}
			influence = 9999
		}
	}

	potential = {
		has_edict = hire_a_construction_group_3
		is_galactic_emperor = yes
	}
	allow = {
		custom_tooltip = {
			NOT = { has_country_flag = flag_remove_edict_hire_a_construction_group_4 }
		}
	}

	modifier = {
		country_megastructure_build_cap_add = 1
	}
	effect = {
		if = { #启用提示
			limit = { NOT = { has_edict = hire_a_construction_group_4 } }
			custom_tooltip = "edict_hire_a_construction_group_effect_activate"
			#hidden_effect = {
				imperial_department_of_engineering_lvl2_take_megaconstructing_slot = { num = 4 }
			#}
		}
		else_if = { #关闭提示
			limit = { has_edict = hire_a_construction_group_4 }
			custom_tooltip = "edict_hire_a_construction_group_effect_deactivate"
			if = { #如果有更高的借用，那么这个不可用
				limit = { has_edict = hire_a_construction_group_5 }
				custom_tooltip = "edict_cant_deactivate_with_higher_hire"
			}
			#hidden_effect = {
				imperial_department_of_engineering_lvl2_return_megaconstructing_slot = { num = 4 }
			#}
		}
	}
}
hire_a_construction_group_5 = {
	length = -1
	icon = "GFX_mod_country_megastructure_build_cap_add"
	resources = {
		category = country_base
		upkeep = {
			influence = 3
			unity = 200
		}
	}

	potential = {
		has_edict = hire_a_construction_group_4
		is_galactic_emperor = yes
	}
	allow = {
		custom_tooltip = {
			NOT = { has_country_flag = flag_remove_edict_hire_a_construction_group_5 }
		}
	}

	modifier = {
		country_megastructure_build_cap_add = 1
	}
	effect = {
		if = { #启用提示
			limit = { NOT = { has_edict = hire_a_construction_group_5 } }
			custom_tooltip = "edict_hire_a_construction_group_effect_activate"
		}
		else_if = { #关闭提示
			limit = { has_edict = hire_a_construction_group_5 }
			custom_tooltip = "edict_hire_a_construction_group_effect_deactivate"
		}
		hidden_effect = {
			if = { #启用效果
				limit = { NOT = { has_edict = hire_a_construction_group_5 } }
				imperial_department_of_engineering_lvl2_take_megaconstructing_slot = { num = 5 }
			}
			else_if = { #关闭效果
				limit = { has_edict = hire_a_construction_group_5 }
				random_federation_ally = {
					limit = { has_modifier = rent_out_a_construction_group }
					remove_modifier = rent_out_a_construction_group
					change_variable = { which = idoe2_free_megaconstructing_slot value = 1 }
				}
				remove_country_flag = flag_recent_active_hire_5
			}
			imperial_department_of_engineering_lvl2_self_check = yes
		}
	}
}
refuse_to_rent_out_construction_groups = {
	length = -1
	icon = "GFX_mod_country_megastructure_build_cap_add"
	resources = {
		category = diplomacy
		upkeep = {
			influence = 2
		}
	}

	potential = {
		has_federation = yes
		federation = {
			OR = {
				has_federation_law = imperial_department_of_engineering_personnel_coordination
				has_federation_law = imperial_department_of_engineering_project_new_world
			}
		}
	}
	allow = {
		NOT = {
			has_modifier = rent_out_a_construction_group
		}
	}

	modifier = {
	}
	effect = {
		custom_tooltip = "edict_refuse_to_rent_out_construction_groups_effect"
		hidden_effect = { #消除cwt黄色报警
			if = {
				limit = { always = no }
				set_country_flag = flag_remove_edict_hire_a_construction_group_1
				set_country_flag = flag_remove_edict_hire_a_construction_group_2
				set_country_flag = flag_remove_edict_hire_a_construction_group_3
				set_country_flag = flag_remove_edict_hire_a_construction_group_4
				set_country_flag = flag_remove_edict_hire_a_construction_group_5
				set_country_flag = flag_recent_active_hire_1
				set_country_flag = flag_recent_active_hire_2
				set_country_flag = flag_recent_active_hire_3
				set_country_flag = flag_recent_active_hire_4
				set_country_flag = flag_recent_active_hire_5
			}
		}
	}
}

surrender_to_the_community = {
	length = 0
	icon = "GFX_edict_type_policy"
	potential = {
		is_criminal_syndicate = yes
		has_global_flag = flag_crack_down_on_criminal_syndicate
		has_galactic_custodian = yes
		NOT = { has_country_flag = flag_custodian9920_ing }
	}

	resources = {
		category = diplomacy
		cost = {
			influence = 250
		}
	}

	effect = {
		custom_tooltip = surrender_to_the_community_effect
		hidden_effect = {
			country_event = {
				id = MECR.9920
			}
		}
	}

	ai_weight = {
		weight = 8
		modifier = {
			factor = crack_downed_branch_office
		}
	}
}
surrender_to_the_empire = {
	length = 0
	icon = "GFX_edict_type_policy"

	potential = {
		is_criminal_syndicate = yes
		has_global_flag = flag_crack_down_on_criminal_syndicate
		has_galactic_emperor = yes
		NOT = { has_country_flag = flag_custodian9920_ing }
	}

	resources = {
		category = diplomacy
		cost = {
			influence = 250
		}
	}

	effect = {
		custom_tooltip = surrender_to_the_empire_effect
		hidden_effect = {
			country_event = {
				id = MECR.9921
			}
		}
	}

	ai_weight = {
		weight = 8
		modifier = {
			factor = crack_downed_branch_office
		}
	}
}